(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"7O4u":function(e,t,i){"use strict";i.r(t),i.d(t,"GestionCasoModule",function(){return me});var o=i("ofXK"),n=i("3Pt+"),c=i("tR1z"),a=i("aceb"),r=i("RS3s"),s=i("zon2"),l=i("tyNb"),b=i("XNiG"),u=i("fXoL"),m=i("230K");let p=(()=>{class e{constructor(e){this._coreService=e}getOptionsCase(){return this._coreService.get("/init-data-case")}getById(e){return this._coreService.get("/cases/"+e)}createOrUpdateCase(e,t){return this._coreService.post("/cases",{caso:e,paciente:t})}}return e.\u0275fac=function(t){return new(t||e)(u.ac(m.a))},e.\u0275prov=u.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),d=(()=>{class e{constructor(e){this._coreService=e}getDataPaciente(){return this._coreService.get("/init-data-paciente")}searchPaciente(e){return this._coreService.get("/search-paciente?q="+e)}getPacienteById(e){return this._coreService.get("/paciente/"+e)}}return e.\u0275fac=function(t){return new(t||e)(u.ac(m.a))},e.\u0275prov=u.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),f=(()=>{class e{constructor(e){this._coreService=e}municipioByDepartamento(e,t){return this._coreService.get(`/municipios/${e}?query=${t}`)}veredaByMunicipio(e,t){return this._coreService.get(`/veredas/${e}?query=${t}`)}}return e.\u0275fac=function(t){return new(t||e)(u.ac(m.a))},e.\u0275prov=u.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function h(e,t){if(1&e){const e=u.Xb();u.Wb(0,"tr"),u.Wb(1,"td"),u.Ac(2),u.Vb(),u.Wb(3,"td"),u.Wb(4,"p",4),u.Ac(5),u.Vb(),u.Vb(),u.Wb(6,"td"),u.Wb(7,"div",4),u.Wb(8,"button",5),u.dc("click",function(){u.sc(e);const i=t.$implicit;return u.fc().seleccionar(i)}),u.Ac(9,"Seleccionar"),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&e){const e=t.$implicit;u.Eb(2),u.Bc(e.identificacion?e.identificacion:"N/A"),u.Eb(3),u.Dc(" ",e.nombre," ",e.apellido," ")}}let g=(()=>{class e{constructor(e){this._pacienteService=e,this.timeout=null,this.pacientes=[],this.selectPaciente=new u.o}ngOnInit(){}searchPaciente(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.search(e.target.value)},400)}search(e){this._pacienteService.searchPaciente(e.trim()).subscribe(e=>{this.pacientes=e})}seleccionar(e){this._pacienteService.getPacienteById(e.id).subscribe(e=>{this.selectPaciente.emit(e)})}}return e.\u0275fac=function(t){return new(t||e)(u.Qb(d))},e.\u0275cmp=u.Kb({type:e,selectors:[["app-list-users"]],outputs:{selectPaciente:"selectPaciente"},decls:13,vars:1,consts:[[1,"py-2"],["type","search","placeholder","ingrese b\xfasqueda por nombre, apellido o identificaci\xf3n",1,"form-control","mb-2",3,"keyup"],[1,"table","table-bordered","text-center"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-success",3,"click"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"input",1),u.dc("keyup",function(e){return t.searchPaciente(e)}),u.Vb(),u.Wb(2,"table",2),u.Wb(3,"thead"),u.Wb(4,"tr"),u.Wb(5,"th"),u.Ac(6,"Identificaci\xf3n"),u.Vb(),u.Wb(7,"th"),u.Ac(8,"Nombre completo"),u.Vb(),u.Wb(9,"th"),u.Ac(10,"Opci\xf3n"),u.Vb(),u.Vb(),u.Vb(),u.Wb(11,"tbody"),u.yc(12,h,10,3,"tr",3),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Eb(12),u.lc("ngForOf",t.pacientes))},directives:[o.m],styles:[""]}),e})();function v(e,t){if(1&e){const e=u.Xb();u.Wb(0,"span",6),u.dc("click",function(){return u.sc(e),u.fc().delete()}),u.Wb(1,"i",7),u.dc("click",function(){return u.sc(e),u.fc().delete()}),u.Vb(),u.Vb()}}const V=function(e){return{selected:e}};function W(e,t){if(1&e){const e=u.Xb();u.Wb(0,"li",8),u.dc("click",function(){u.sc(e);const i=t.index;return u.fc().selectItem(i)}),u.Wb(1,"a",9),u.dc("click",function(){u.sc(e);const i=t.index;return u.fc().selectItem(i)}),u.Ac(2),u.Vb(),u.Vb()}if(2&e){const e=t.$implicit,i=t.index,o=u.fc();u.lc("ngClass",u.nc(2,V,i==o.selectIndex)),u.Eb(2),u.Bc(o.getTitle(e))}}let _=(()=>{class e{constructor(){this.listFiltered=null,this.debounce=!1,this.list=[],this.getTitle=e=>e,this.filter=e=>new Promise((t,i)=>{if(null==e?void 0:e.trim()){const i=RegExp(`^.*${e.trim()}.*$`,"i");t(this.list.filter(e=>i.test(this.getTitle(e))))}else t(this.list)}),this.change=new u.o,this.search="",this.selectIndex=0,this.showList=!1,this.onChange=e=>{}}writeValue(e){if(this.listFiltered=this.list,null==e)this.delete();else{const t=this.listFiltered.findIndex(t=>this.getTitle(t).toLocaleLowerCase()===this.getTitle(e).toLocaleLowerCase());t<0?(this.listFiltered||(this.listFiltered=[]),this.listFiltered.unshift(e),this.selectItem(0)):this.selectItem(t)}}registerOnChange(e){this.onChange=e}registerOnTouched(e){}setDisabledState(e){}ngOnInit(){}get listItems(){return null===this.listFiltered?this.list:this.listFiltered}select(e=!0){e?setTimeout(()=>{this.showList=!1},200):this.showList=!1;const t=this.listItems[this.selectIndex];t&&(this.search=this.getTitle(t),this.change.emit(t),this.onChange(t))}pressKeyUp(e){switch(e.key){case"Enter":e.preventDefault(),this.select(!1);break;case"ArrowDown":e.preventDefault(),this.selectIndex<this.listItems.length-1&&this.selectIndex++;break;case"ArrowUp":e.preventDefault(),this.selectIndex>0&&this.selectIndex--;break;case"Tab":break;default:this.debounce?(clearTimeout(this.time),this.time=setTimeout(()=>{this.filter(this.search).then(e=>{this.showList=!0,this.listFiltered=e})},400)):this.filter(this.search).then(e=>{this.showList=!0,this.listFiltered=e}),this.selectIndex=0}}selectItem(e){this.selectIndex=e,this.select()}get showDelete(){return!!this.search&&this.search.length>0}delete(){this.change.emit(null),this.search="",this.selectIndex=0,this.listFiltered=this.list,this.onChange(null)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Kb({type:e,selectors:[["app-select-filter"]],inputs:{debounce:"debounce",list:"list",getTitle:"getTitle",filter:"filter"},outputs:{change:"change"},features:[u.Db([{provide:n.k,multi:!0,useExisting:Object(u.X)(()=>e)}])],decls:7,vars:4,consts:[[1,"input-group","flex-nowrap"],["type","text","placeholder","Search for names..",1,"form-control",3,"ngModel","blur","focus","ngModelChange","keyup"],["class","btn btn-sm btn-outline-danger clear-select",3,"click",4,"ngIf"],[1,"cont","d-flex"],[3,"hidden"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-danger","clear-select",3,"click"],[1,"fas","fa-times",3,"click"],[3,"ngClass","click"],[3,"click"]],template:function(e,t){1&e&&(u.Wb(0,"div"),u.Wb(1,"div",0),u.Wb(2,"input",1),u.dc("blur",function(){return t.select()})("focus",function(){return t.showList=!0})("ngModelChange",function(e){return t.search=e})("keyup",function(e){return t.pressKeyUp(e)}),u.Vb(),u.yc(3,v,2,0,"span",2),u.Vb(),u.Rb(4,"div",3),u.Wb(5,"ul",4),u.yc(6,W,3,4,"li",5),u.Vb(),u.Vb()),2&e&&(u.Eb(2),u.lc("ngModel",t.search),u.Eb(1),u.lc("ngIf",t.showDelete),u.Eb(2),u.lc("hidden",!t.showList),u.Eb(1),u.lc("ngForOf",t.listItems))},directives:[n.b,n.m,n.p,o.n,o.m,o.l],styles:["div[_ngcontent-%COMP%]{position:relative}ul[_ngcontent-%COMP%]{list-style:none;padding:0;max-height:14.5rem;overflow-y:auto;position:absolute;z-index:100;background:#fff;box-shadow:0 0 4px grey;width:100%}li[_ngcontent-%COMP%]{padding:.5rem 1rem;margin:0}.selected[_ngcontent-%COMP%]{background-color:#598bff;color:#f5f5f5}.close[_ngcontent-%COMP%]{cursor:pointer}.clear-select[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),e})();function C(e,t){if(1&e){const e=u.Xb();u.Ub(0),u.Wb(1,"button",8),u.dc("click",function(){return u.sc(e),u.fc().cancelarBusquedaUsuario()}),u.Ac(2,"Cancelar Busqueda"),u.Vb(),u.Tb()}}function x(e,t){if(1&e){const e=u.Xb();u.Wb(0,"button",9),u.dc("click",function(){return u.sc(e),u.fc().buscarUsuario()}),u.Ac(1,"Buscar Usuario"),u.Vb()}}function E(e,t){if(1&e){const e=u.Xb();u.Wb(0,"div",10),u.Wb(1,"app-list-users",11),u.dc("selectPaciente",function(t){return u.sc(e),u.fc().selectPaciente(t)}),u.Vb(),u.Vb()}}function P(e,t){if(1&e&&(u.Wb(0,"option",54),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function T(e,t){if(1&e&&(u.Wb(0,"option",54),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function A(e,t){if(1&e&&(u.Wb(0,"option",54),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function y(e,t){if(1&e&&(u.Wb(0,"option",54),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function N(e,t){if(1&e&&(u.Wb(0,"option",54),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function G(e,t){if(1&e&&(u.Wb(0,"option",54),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function F(e,t){if(1&e&&(u.Wb(0,"option",54),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function w(e,t){if(1&e&&(u.Wb(0,"option",54),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function I(e,t){if(1&e&&(u.Wb(0,"option",54),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function O(e,t){if(1&e&&(u.Wb(0,"option",54),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function S(e,t){if(1&e&&(u.Wb(0,"option",54),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function R(e,t){if(1&e&&(u.Wb(0,"div",12),u.Wb(1,"label",55),u.Ac(2," Municipio "),u.Vb(),u.Rb(3,"app-select-filter",56),u.Vb()),2&e){const e=u.fc(2);u.Eb(3),u.lc("list",e.municipios)("getTitle",e.getTitleMunicipio)("filter",e.callbackFilterMunicipio)("debounce",!0)}}function k(e,t){if(1&e&&(u.Wb(0,"div",12),u.Wb(1,"label",57),u.Ac(2," Vereda "),u.Vb(),u.Rb(3,"app-select-filter",58),u.Vb()),2&e){const e=u.fc(2);u.Eb(3),u.lc("list",e.veredas)("getTitle",e.getTitleVereda)("filter",e.callbackFilterVereda)("debounce",!0)}}function M(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",12),u.Wb(2,"label",13),u.Ac(3," Tipo Identificaci\xf3n "),u.Vb(),u.Wb(4,"select",14),u.Wb(5,"option",15),u.Ac(6,"Seleccione"),u.Vb(),u.yc(7,P,2,2,"option",16),u.Vb(),u.Vb(),u.Wb(8,"div",12),u.Wb(9,"label",17),u.Ac(10," Identificaci\xf3n "),u.Vb(),u.Rb(11,"input",18),u.Vb(),u.Wb(12,"div",12),u.Wb(13,"label",19),u.Ac(14," Nombres "),u.Vb(),u.Rb(15,"input",20),u.Vb(),u.Wb(16,"div",12),u.Wb(17,"label",21),u.Ac(18," Apellidos "),u.Vb(),u.Rb(19,"input",22),u.Vb(),u.Wb(20,"div",12),u.Wb(21,"label",23),u.Ac(22," Edad "),u.Vb(),u.Rb(23,"input",24),u.Vb(),u.Wb(24,"div",12),u.Wb(25,"label",25),u.Ac(26," Fecha Nacimiento "),u.Vb(),u.Rb(27,"input",26),u.Vb(),u.Wb(28,"div",12),u.Wb(29,"label",27),u.Ac(30," Direcci\xf3n "),u.Vb(),u.Rb(31,"input",28),u.Vb(),u.Wb(32,"div",12),u.Wb(33,"label",29),u.Ac(34," Orientaci\xf3n Sexual "),u.Vb(),u.Wb(35,"select",30),u.Wb(36,"option",15),u.Ac(37,"Seleccione"),u.Vb(),u.yc(38,T,2,2,"option",16),u.Vb(),u.Vb(),u.Wb(39,"div",12),u.Wb(40,"label",31),u.Ac(41," Genero "),u.Vb(),u.Wb(42,"select",32),u.Wb(43,"option",15),u.Ac(44,"Seleccione"),u.Vb(),u.yc(45,A,2,2,"option",16),u.Vb(),u.Vb(),u.Wb(46,"div",12),u.Wb(47,"label",33),u.Ac(48," Sexo "),u.Vb(),u.Wb(49,"select",34),u.Wb(50,"option",15),u.Ac(51,"Seleccione"),u.Vb(),u.yc(52,y,2,2,"option",16),u.Vb(),u.Vb(),u.Wb(53,"div",12),u.Wb(54,"label",35),u.Ac(55," Etnia "),u.Vb(),u.Wb(56,"select",36),u.Wb(57,"option",15),u.Ac(58,"Seleccione"),u.Vb(),u.yc(59,N,2,2,"option",16),u.Vb(),u.Vb(),u.Wb(60,"div",12),u.Wb(61,"label",37),u.Ac(62," Estado Civil "),u.Vb(),u.Wb(63,"select",38),u.Wb(64,"option",15),u.Ac(65,"Seleccione"),u.Vb(),u.yc(66,G,2,2,"option",16),u.Vb(),u.Vb(),u.Wb(67,"div",12),u.Wb(68,"label",39),u.Ac(69," Ocupaci\xf3n "),u.Vb(),u.Wb(70,"select",40),u.Wb(71,"option",15),u.Ac(72,"Seleccione"),u.Vb(),u.yc(73,F,2,2,"option",16),u.Vb(),u.Vb(),u.Wb(74,"div",12),u.Wb(75,"label",41),u.Ac(76," Nivel Educaci\xf3n "),u.Vb(),u.Wb(77,"select",42),u.Wb(78,"option",15),u.Ac(79,"Seleccione"),u.Vb(),u.yc(80,w,2,2,"option",16),u.Vb(),u.Vb(),u.Wb(81,"div",12),u.Wb(82,"label",43),u.Ac(83," Zonas "),u.Vb(),u.Wb(84,"select",44),u.Wb(85,"option",15),u.Ac(86,"Seleccione"),u.Vb(),u.yc(87,I,2,2,"option",16),u.Vb(),u.Vb(),u.Wb(88,"div",12),u.Wb(89,"label",45),u.Ac(90," \xbfComo conoci\xf3? "),u.Vb(),u.Wb(91,"select",46),u.Wb(92,"option",15),u.Ac(93,"Seleccione"),u.Vb(),u.yc(94,O,2,2,"option",16),u.Vb(),u.Vb(),u.Wb(95,"div",12),u.Wb(96,"label",47),u.Ac(97," Como conoci\xf3 descripci\xf3n adicional "),u.Vb(),u.Rb(98,"input",48),u.Vb(),u.Wb(99,"div",12),u.Wb(100,"label",49),u.Ac(101," Poblaci\xf3n Inter\xe9s "),u.Vb(),u.Wb(102,"select",50),u.Wb(103,"option",15),u.Ac(104,"Seleccione"),u.Vb(),u.yc(105,S,2,2,"option",16),u.Vb(),u.Vb(),u.Wb(106,"div",12),u.Wb(107,"label",51),u.Ac(108," Departamento "),u.Vb(),u.Rb(109,"app-select-filter",52),u.Vb(),u.yc(110,R,4,4,"div",53),u.yc(111,k,4,4,"div",53),u.Tb()),2&e){const e=u.fc();u.Eb(4),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.tipos_identificacion),u.Eb(20),u.lc("max",e.currentDay),u.Eb(8),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.orientaciones_sexuales),u.Eb(4),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.generos),u.Eb(4),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.sexos),u.Eb(4),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.etnias),u.Eb(4),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.estado_civiles),u.Eb(4),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.ocupaciones),u.Eb(4),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.niveles_educacion),u.Eb(4),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.zonas),u.Eb(4),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.como_conocio),u.Eb(8),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.poblacion_intereses),u.Eb(4),u.lc("list",e.departamentos)("getTitle",e.getTitleDepartamento),u.Eb(1),u.lc("ngIf",e.hasDepartamento),u.Eb(1),u.lc("ngIf",e.is_rural&&e.hasMunicipio)}}let D=(()=>{class e{constructor(e,t){this._formBuilder=e,this._locationService=t,this.buscar=!1,this.municipios=[],this.veredas=[],this.paciente={identificacion:null},this.setFormGroupPaciente=new u.o,this.setPaciente=null}ngOnInit(){this.currentDay=this.getDateInput(new Date),this.callbackFilterMunicipio=this.filterMunicipio.bind(this),this.callbackFilterVereda=this.filterVereda.bind(this),this.formGroupPaciente=this._formBuilder.group({id:[null],identificacion:[null],nombre:[null],apellido:[null],sisben:[null],edad:[null],direccion:[null],fecha_nacimiento:[null],como_conocio:[null],como_conocio_descripcion:[null],orientacion_sexual:[null],genero:[null],sexo:[null],etnia:[null],estado_civil:[null],ocupacion:[null],nivel_educacion:[null],zona:[null],tipo_identificacion:[null],poblacion_interes:[null],municipio:[null],departamento:[null],vereda:[null]}),this.setFormGroupPaciente.emit(this.formGroupPaciente),this.setPaciente&&(this.subscriber=this.setPaciente.subscribe(e=>{e.id&&!e.identificacion&&(e.identificacion=""),console.log(e),this.formGroupPaciente.patchValue(e)}))}ngOnDestroy(){this.subscriber&&this.subscriber.unsubscribe()}get hasIdentification(){return null!==this.formGroupPaciente.get("identificacion").value}get orientaciones_sexuales(){return this.dataPaciente.orientaciones_sexuales}get generos(){return this.dataPaciente.generos}get sexos(){return this.dataPaciente.sexos}get etnias(){return this.dataPaciente.etnias}get estado_civiles(){return this.dataPaciente.estado_civiles}get ocupaciones(){return this.dataPaciente.ocupaciones}get niveles_educacion(){return this.dataPaciente.niveles_educacion}get zonas(){return this.dataPaciente.zonas}get tipos_identificacion(){return this.dataPaciente.tipos_identificacion}get poblacion_intereses(){return this.dataPaciente.poblacion_intereses}get departamentos(){return this.dataPaciente.departamentos}get como_conocio(){return this.dataPaciente.como_conocio}get is_rural(){const e=this.formGroupPaciente.get("zona").value;return!(!e||!e.name)&&e.name.toLocaleLowerCase().includes("rural")}get hasDepartamento(){const e=this.formGroupPaciente.get("departamento").value;return!(!e||!e.name)}get hasMunicipio(){const e=this.formGroupPaciente.get("municipio").value;return!(!e||!e.name)}buscarUsuario(){this.formGroupPaciente.patchValue({identificacion:null}),this.buscar=!0}compare(e,t){return e&&t?e.id===t.id:e===t}cancelarBusquedaUsuario(){this.formGroupPaciente.patchValue({identificacion:null}),this.buscar=!1}nuevoUsuario(){this.cancelarBusquedaUsuario(),this.formGroupPaciente.reset(),Object.assign(this.paciente,this.formGroupPaciente.value),this.formGroupPaciente.patchValue({identificacion:""})}selectPaciente(e){Object.assign(this.paciente,e),this.formGroupPaciente.patchValue(e),e.identificacion||this.formGroupPaciente.patchValue({identificacion:""}),this.buscar=!1}getTitleDepartamento(e){return e.name}getTitleMunicipio(e){return e.name}getTitleVereda(e){return e.name}get departamento(){const e=this.formGroupPaciente.get("departamento").value;return e&&e.id?e:null}get departamentoId(){return this.departamento?this.departamento.id:0}get municipio(){const e=this.formGroupPaciente.get("municipio").value;return e&&e.id?e:null}get municipioId(){return this.municipio?this.municipio.id:0}filterMunicipio(e){return new Promise((t,i)=>{(null==e?void 0:e.trim())?this._locationService.municipioByDepartamento(this.departamentoId,e).subscribe(e=>{t(e)},e=>{i(e),console.error(e)}):t(this.municipios)})}filterVereda(e){return new Promise((t,i)=>{(null==e?void 0:e.trim())?this._locationService.veredaByMunicipio(this.municipioId,e).subscribe(e=>{t(e)},e=>{i(e),console.error(e)}):t(this.municipios)})}prevent(e){e.preventDefault()}getFullNumber(e){return e<10?"0"+e:e}getDateInput(e){return`${e.getFullYear()}-${this.getFullNumber(e.getMonth()+1)}-${this.getFullNumber(e.getDate())}`}}return e.\u0275fac=function(t){return new(t||e)(u.Qb(n.c),u.Qb(f))},e.\u0275cmp=u.Kb({type:e,selectors:[["app-frm-paciente"]],inputs:{dataPaciente:"dataPaciente",setPaciente:"setPaciente"},outputs:{setFormGroupPaciente:"setFormGroupPaciente"},decls:10,vars:5,consts:[[1,"col-12","text-center","pb-4"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"btn","btn-success","ml-2",3,"click"],["class","col-12",4,"ngIf"],[3,"formGroup","submit"],[1,"row"],[4,"ngIf"],[1,"btn","btn-danger","mr-2",3,"click"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"col-12"],[3,"selectPaciente"],[1,"col-4","mb-3"],["for","tipo_identificacion",1,"form-label"],["formControlName","tipo_identificacion",1,"form-control",3,"compareWith"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","identificacion",1,"form-label"],["formControlName","identificacion","type","text","id","identificacion",1,"form-control"],["for","nombre",1,"form-label"],["formControlName","nombre","type","text","id","nombre",1,"form-control"],["for","apellido",1,"form-label"],["formControlName","apellido","type","text","id","apellido",1,"form-control"],["for","edad",1,"form-label"],["formControlName","edad","type","number","min","1","id","edad",1,"form-control"],["for","fecha_nacimiento",1,"form-label"],["formControlName","fecha_nacimiento","type","date","id","fecha_nacimiento",1,"form-control",3,"max"],["for","direccion",1,"form-label"],["formControlName","direccion","type","text","id","direccion",1,"form-control"],["for","orientacion_sexual",1,"form-label"],["formControlName","orientacion_sexual",1,"form-control",3,"compareWith"],["for","genero",1,"form-label"],["formControlName","genero",1,"form-control",3,"compareWith"],["for","sexo",1,"form-label"],["formControlName","sexo",1,"form-control",3,"compareWith"],["for","etnia",1,"form-label"],["formControlName","etnia",1,"form-control",3,"compareWith"],["for","estado_civil",1,"form-label"],["formControlName","estado_civil",1,"form-control",3,"compareWith"],["for","ocupacion",1,"form-label"],["formControlName","ocupacion",1,"form-control",3,"compareWith"],["for","nivel_educacion",1,"form-label"],["formControlName","nivel_educacion",1,"form-control",3,"compareWith"],["for","zona",1,"form-label"],["formControlName","zona",1,"form-control",3,"compareWith"],["for","como_conocio",1,"form-label"],["formControlName","como_conocio",1,"form-control",3,"compareWith"],["for","como_conocio_descripcion",1,"form-label"],["formControlName","como_conocio_descripcion","type","text","id","como_conocio_descripcion",1,"form-control"],["for","poblacion_interes",1,"form-label"],["formControlName","poblacion_interes",1,"form-control",3,"compareWith"],["for","departamento",1,"form-label"],["formControlName","departamento",3,"list","getTitle"],["class","col-4 mb-3",4,"ngIf"],[3,"ngValue"],["for","municipio",1,"form-label"],["formControlName","municipio",3,"list","getTitle","filter","debounce"],["for","vereda",1,"form-label"],["formControlName","vereda",3,"list","getTitle","filter","debounce"]],template:function(e,t){if(1&e&&(u.Wb(0,"div",0),u.yc(1,C,3,0,"ng-container",1),u.yc(2,x,2,0,"ng-template",null,2,u.zc),u.Wb(4,"button",3),u.dc("click",function(){return t.nuevoUsuario()}),u.Ac(5,"Nuevo Usuario"),u.Vb(),u.Vb(),u.yc(6,E,2,0,"div",4),u.Wb(7,"form",5),u.dc("submit",function(e){return t.prevent(e)}),u.Wb(8,"div",6),u.yc(9,M,112,38,"ng-container",7),u.Vb(),u.Vb()),2&e){const e=u.qc(3);u.Eb(1),u.lc("ngIf",t.buscar)("ngIfElse",e),u.Eb(5),u.lc("ngIf",t.buscar),u.Eb(1),u.lc("formGroup",t.formGroupPaciente),u.Eb(2),u.lc("ngIf",t.hasIdentification&&!t.buscar)}},directives:[o.n,n.x,n.n,n.g,g,n.u,n.m,n.f,n.q,n.w,o.m,n.b,n.r,_],styles:[""]}),e})();function q(e,t){if(1&e&&(u.Wb(0,"option",31),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function $(e,t){if(1&e&&(u.Wb(0,"option",31),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function z(e,t){1&e&&(u.Ub(0),u.Wb(1,"div",2),u.Wb(2,"label",32),u.Ac(3," Nombre de quien llama "),u.Vb(),u.Rb(4,"input",33),u.Vb(),u.Wb(5,"div",2),u.Wb(6,"label",34),u.Ac(7," Documento de quien llama "),u.Vb(),u.Rb(8,"input",35),u.Vb(),u.Wb(9,"div",2),u.Wb(10,"label",36),u.Ac(11," Relaci\xf3n con el usuario "),u.Vb(),u.Rb(12,"input",37),u.Vb(),u.Tb())}function B(e,t){if(1&e&&(u.Wb(0,"option",31),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function U(e,t){if(1&e&&(u.Wb(0,"option",31),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function L(e,t){if(1&e&&(u.Wb(0,"option",31),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function Q(e,t){if(1&e&&(u.Wb(0,"div",2),u.Wb(1,"label",38),u.Ac(2," Motivo de consulta especifico "),u.Wb(3,"span",4),u.Ac(4,"*"),u.Vb(),u.Vb(),u.Wb(5,"select",39),u.Wb(6,"option",10),u.Ac(7,"Seleccione"),u.Vb(),u.yc(8,L,2,2,"option",11),u.Vb(),u.Vb()),2&e){const e=u.fc();u.Eb(5),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.motivo_consulta_especificos)}}function j(e,t){1&e&&(u.Wb(0,"div",2),u.Wb(1,"label",40),u.Ac(2," \xbfCual Motivo? "),u.Vb(),u.Rb(3,"input",41),u.Vb())}function K(e,t){if(1&e&&(u.Wb(0,"option",31),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function X(e,t){if(1&e&&(u.Wb(0,"option",31),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function J(e,t){if(1&e&&(u.Wb(0,"option",31),u.Ac(1),u.Vb()),2&e){const e=t.$implicit;u.lc("ngValue",e),u.Eb(1),u.Cc(" ",e.name," ")}}function Y(e,t){if(1&e&&(u.Ub(0),u.Wb(1,"div",2),u.Wb(2,"label",42),u.Ac(3," \xbfCu\xe1l entidad? "),u.Vb(),u.Wb(4,"select",43),u.Wb(5,"option",10),u.Ac(6,"Seleccione"),u.Vb(),u.yc(7,X,2,2,"option",11),u.Vb(),u.Vb(),u.Wb(8,"div",2),u.Wb(9,"label",44),u.Ac(10," Respuesta efectiva "),u.Vb(),u.Wb(11,"select",45),u.Wb(12,"option",10),u.Ac(13,"Seleccione"),u.Vb(),u.yc(14,J,2,2,"option",11),u.Vb(),u.Vb(),u.Wb(15,"div",2),u.Wb(16,"label",46),u.Ac(17," N\xfamero de radicado "),u.Vb(),u.Rb(18,"input",47),u.Vb(),u.Tb()),2&e){const e=u.fc();u.Eb(4),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.remisiones),u.Eb(4),u.lc("compareWith",e.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",e.respuestas)}}let Z=(()=>{class e{constructor(e){this._formBuilder=e,this.setCaso=null,this.setPaciente=null,this.setFormGroupCase=new u.o,this.setFormGroupPaciente=new u.o,this.motivoConsulta=null,this.quienComunica=null,this.lineaIntervencion=null}ngOnInit(){this.createFrom(),this.setCaso&&(this.subscriber=this.setCaso.subscribe(e=>{this.formGroupCase.patchValue(e),this.formGroupCase.patchValue(e.fecha_inicio?{fecha_inicio:this.getDateTimeInput(new Date(e.fecha_inicio))}:{fecha_inicio:this.getDateTimeInput(new Date)}),e.fecha_fin&&this.formGroupCase.patchValue({fecha_fin:this.getDateTimeInput(new Date(e.fecha_fin))})})),this.updateMaxDate(),this.interval=setInterval(()=>{this.updateMaxDate()},3e4)}updateMaxDate(){this.maxDate=this.getDateTimeInput(new Date)}get minDateFinal(){return this.formGroupCase.get("fecha_inicio").value||""}ngOnDestroy(){this.subscriber&&this.subscriber.unsubscribe(),clearInterval(this.interval)}createFrom(){this.formGroupCase=this._formBuilder.group({id:[null],observaciones:[null,[n.v.required]],narrativa:[null,[n.v.required]],fuente:[null,[n.v.required]],fecha_inicio:[null,[n.v.required]],fecha_fin:[null,[n.v.required]],linea_intervencion:[null,[n.v.required]],origen:[null,[n.v.required]],nombre_llama:[null],documento_llama:[null],descripcion_motivo:[null],descripcion_relacion:[null],descripcion_radicado:[null],paciente:[null],motivo_consulta:[null,[n.v.required]],motivo_consulta_especifico:[null],quien_comunica:[null],turno:[null,[n.v.required]],etnicidad:[null],relacion:[null],remision:[null],respuesta:[null],radicado:[null]}),this.setFormGroupCase.emit(this.formGroupCase)}get paciente(){return this.formGroupCase.get("paciente")}get turnos(){return this.dataCase.turnos}get quienes_comunican(){return this.dataCase.quienComunica}get origenes(){return this.dataCase.origenes}get motivo_consultas(){return this.dataCase.motivosConsultas}get motivo_consulta_especificos(){return this.motivoConsulta&&this.motivoConsulta.id?this.dataCase.motivosConsultaEspecificos.filter(e=>e.motivo_consulta_id==this.motivoConsulta.id):[]}get has_motivos_especificos(){return this.motivo_consulta_especificos.length>0}get linea_intervenciones(){return this.dataCase.lineaIntervenciones}get se_comunica_otra_persona(){const e=this.formGroupCase.get("quien_comunica").value;return!!e&&e.name.toLocaleLowerCase().includes("otra")}get is_remision(){const e=this.formGroupCase.get("linea_intervencion").value;return!!e&&e.name.toLocaleLowerCase().includes("remisi\xf3n")}get remisiones(){return this.dataCase.remisiones}get respuestas(){return this.dataCase.respuestas}clearMotivoEspecifico(){this.formGroupCase.get("motivo_consulta_especifico").patchValue(null)}compare(e,t){return e&&t?e.id===t.id:e===t}onSetFormGroupPaciente(e){this.setFormGroupPaciente.emit(e)}getFullNumber(e){return e<10?"0"+e:e}getDateInput(e){return`${e.getFullYear()}-${this.getFullNumber(e.getMonth()+1)}-${this.getFullNumber(e.getDate())}`}getDateTimeInput(e){const t=e.toTimeString().slice(0,5);return`${this.getDateInput(e)}T${t}`}}return e.\u0275fac=function(t){return new(t||e)(u.Qb(n.c))},e.\u0275cmp=u.Kb({type:e,selectors:[["app-frm-caso"]],inputs:{dataCase:"dataCase",dataPaciente:"dataPaciente",setCaso:"setCaso",setPaciente:"setPaciente"},outputs:{setFormGroupCase:"setFormGroupCase",setFormGroupPaciente:"setFormGroupPaciente"},decls:86,vars:29,consts:[[3,"formGroup"],[1,"row"],[1,"col-4","mb-3"],["for","fechaInicial",1,"form-label"],[1,"required"],["formControlName","fecha_inicio","type","datetime-local","id","fechaInicial",1,"form-control",3,"max"],["for","fechaFinal",1,"form-label"],["formControlName","fecha_fin","type","datetime-local","id","fechaFinal",1,"form-control",3,"min","max"],["for","turno",1,"form-label"],["formControlName","turno","id","turno",1,"form-control",3,"compareWith"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","quienSeComunica",1,"form-label"],["formControlName","quien_comunica","id","quienSeComunica",1,"form-control",3,"compareWith","ngModel","ngModelChange"],[4,"ngIf"],["for","origen",1,"form-label"],["formControlName","origen","id","origen",1,"form-control",3,"compareWith"],["for","fuente",1,"form-label"],["type","text","id","fuente","formControlName","fuente",1,"form-control"],["for","motivo_consulta",1,"form-label"],["formControlName","motivo_consulta","id","motivo_consulta",1,"form-control",3,"compareWith","ngModel","ngModelChange","change"],["class","col-4 mb-3",4,"ngIf"],["for","linea_intervencion",1,"form-label"],["formControlName","linea_intervencion","id","linea_intervencion",1,"form-control",3,"compareWith","ngModel","ngModelChange"],[1,"col-12","mb-3"],["for","narrativa",1,"form-label"],["formControlName","narrativa","id","narrativa","cols","30","rows","8",1,"form-control"],[1,"text-center"],[3,"setPaciente","dataPaciente","setFormGroupPaciente"],["for","observaciones",1,"form-label"],["formControlName","observaciones","id","observaciones","cols","30","rows","8",1,"form-control"],[3,"ngValue"],["for","nombre_llama",1,"form-label"],["formControlName","nombre_llama","id","nombre_llama","type","text",1,"form-control"],["for","documento_llama",1,"form-label"],["formControlName","documento_llama","id","documento_llama","type","text",1,"form-control"],["for","descripcion_relacion",1,"form-label"],["formControlName","descripcion_relacion","id","descripcion_relacion","type","text",1,"form-control"],["for","motivo_consulta_especifico",1,"form-label"],["formControlName","motivo_consulta_especifico","id","motivo_consulta_especifico",1,"form-control",3,"compareWith"],["for","descripcion_motivo",1,"form-label"],["type","text","id","descripcion_motivo","formControlName","descripcion_motivo",1,"form-control"],["for","remision",1,"form-label"],["formControlName","remision","id","remision",1,"form-control",3,"compareWith"],["for","respuesta",1,"form-label"],["formControlName","respuesta","id","respuesta",1,"form-control",3,"compareWith"],["for","descripcion_radicado",1,"form-label"],["type","text","id","descripcion_radicado","formControlName","descripcion_radicado",1,"form-control"]],template:function(e,t){1&e&&(u.Wb(0,"form",0),u.Wb(1,"div",1),u.Wb(2,"div",2),u.Wb(3,"label",3),u.Ac(4,"Fecha Inicial "),u.Wb(5,"span",4),u.Ac(6,"*"),u.Vb(),u.Vb(),u.Rb(7,"input",5),u.Vb(),u.Wb(8,"div",2),u.Wb(9,"label",6),u.Ac(10,"Fecha Final "),u.Wb(11,"span",4),u.Ac(12,"*"),u.Vb(),u.Vb(),u.Rb(13,"input",7),u.Vb(),u.Wb(14,"div",2),u.Wb(15,"label",8),u.Ac(16,"Turno "),u.Wb(17,"span",4),u.Ac(18,"*"),u.Vb(),u.Vb(),u.Wb(19,"select",9),u.Wb(20,"option",10),u.Ac(21,"Seleccione Turno"),u.Vb(),u.yc(22,q,2,2,"option",11),u.Vb(),u.Vb(),u.Wb(23,"div",2),u.Wb(24,"label",12),u.Ac(25," \xbfQui\xe9n se comunica? "),u.Wb(26,"span",4),u.Ac(27,"*"),u.Vb(),u.Vb(),u.Wb(28,"select",13),u.dc("ngModelChange",function(e){return t.quienComunica=e}),u.Wb(29,"option",10),u.Ac(30,"Seleccione"),u.Vb(),u.yc(31,$,2,2,"option",11),u.Vb(),u.Vb(),u.yc(32,z,13,0,"ng-container",14),u.Wb(33,"div",2),u.Wb(34,"label",15),u.Ac(35," Origen "),u.Wb(36,"span",4),u.Ac(37,"*"),u.Vb(),u.Vb(),u.Wb(38,"select",16),u.Wb(39,"option",10),u.Ac(40,"Seleccione"),u.Vb(),u.yc(41,B,2,2,"option",11),u.Vb(),u.Vb(),u.Wb(42,"div",2),u.Wb(43,"label",17),u.Ac(44,"Numero o Correo del Usuario "),u.Wb(45,"span",4),u.Ac(46,"*"),u.Vb(),u.Vb(),u.Rb(47,"input",18),u.Vb(),u.Wb(48,"div",2),u.Wb(49,"label",19),u.Ac(50," Motivo de consulta "),u.Wb(51,"span",4),u.Ac(52,"*"),u.Vb(),u.Vb(),u.Wb(53,"select",20),u.dc("ngModelChange",function(e){return t.motivoConsulta=e})("change",function(){return t.clearMotivoEspecifico()}),u.Wb(54,"option",10),u.Ac(55,"Seleccione"),u.Vb(),u.yc(56,U,2,2,"option",11),u.Vb(),u.Vb(),u.yc(57,Q,9,3,"div",21),u.yc(58,j,4,0,"div",21),u.Wb(59,"div",2),u.Wb(60,"label",22),u.Ac(61," Linea Intervenci\xf3n "),u.Wb(62,"span",4),u.Ac(63,"*"),u.Vb(),u.Vb(),u.Wb(64,"select",23),u.dc("ngModelChange",function(e){return t.lineaIntervencion=e}),u.Wb(65,"option",10),u.Ac(66,"Seleccione"),u.Vb(),u.yc(67,K,2,2,"option",11),u.Vb(),u.Vb(),u.yc(68,Y,19,6,"ng-container",14),u.Wb(69,"div",24),u.Wb(70,"label",25),u.Ac(71," Narrativa "),u.Wb(72,"span",4),u.Ac(73,"*"),u.Vb(),u.Vb(),u.Rb(74,"textarea",26),u.Vb(),u.Vb(),u.Vb(),u.Wb(75,"h6",27),u.Ac(76,"Datos del usuario"),u.Vb(),u.Wb(77,"app-frm-paciente",28),u.dc("setFormGroupPaciente",function(e){return t.onSetFormGroupPaciente(e)}),u.Vb(),u.Wb(78,"form",0),u.Wb(79,"div",1),u.Wb(80,"div",24),u.Wb(81,"label",29),u.Ac(82," Observaciones de cierre "),u.Wb(83,"span",4),u.Ac(84,"*"),u.Vb(),u.Vb(),u.Rb(85,"textarea",30),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.lc("formGroup",t.formGroupCase),u.Eb(7),u.lc("max",t.maxDate),u.Eb(6),u.lc("min",t.minDateFinal)("max",t.maxDate),u.Eb(6),u.lc("compareWith",t.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",t.turnos),u.Eb(6),u.lc("compareWith",t.compare)("ngModel",t.quienComunica),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",t.quienes_comunican),u.Eb(1),u.lc("ngIf",t.se_comunica_otra_persona),u.Eb(6),u.lc("compareWith",t.compare),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",t.origenes),u.Eb(12),u.lc("compareWith",t.compare)("ngModel",t.motivoConsulta),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",t.motivo_consultas),u.Eb(1),u.lc("ngIf",t.has_motivos_especificos),u.Eb(1),u.lc("ngIf",!t.has_motivos_especificos),u.Eb(6),u.lc("compareWith",t.compare)("ngModel",t.lineaIntervencion),u.Eb(1),u.lc("ngValue",null),u.Eb(2),u.lc("ngForOf",t.linea_intervenciones),u.Eb(1),u.lc("ngIf",t.is_remision),u.Eb(9),u.lc("setPaciente",t.setPaciente)("dataPaciente",t.dataPaciente),u.Eb(1),u.lc("formGroup",t.formGroupCase))},directives:[n.x,n.n,n.g,n.b,n.m,n.f,n.u,n.q,n.w,o.m,o.n,D],styles:[".required[_ngcontent-%COMP%]{color:var(--danger)}"]}),e})(),H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Kb({type:e,selectors:[["app-mostrar-item"]],inputs:{title:"title",text:"text"},decls:4,vars:2,template:function(e,t){1&e&&(u.Wb(0,"p"),u.Wb(1,"strong"),u.Ac(2),u.Vb(),u.Ac(3),u.Vb()),2&e&&(u.Eb(2),u.Cc("",t.title,":"),u.Eb(1),u.Cc(" ",t.text,""))},styles:[""]}),e})(),ee=(()=>{class e{constructor(){this.paciente={identificacion:null}}ngOnInit(){}get nombrePaciente(){return`${this.paciente.nombre||""} ${this.paciente.apellido||""}`.trim()}getNameTipo(e){return e?e.name:""}hasText(e){return!!e&&Boolean(e.trim())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u.Kb({type:e,selectors:[["app-mostrar-caso"]],inputs:{caso:"caso",paciente:"paciente"},decls:90,vars:93,consts:[[1,"row"],[1,"col","col-md-4",3,"hidden"],["title","Fecha Inicio",3,"text"],["title","Fecha Fin",3,"text"],["title","Quien se comunica",3,"text"],["title","Relaci\xf3n",3,"text"],["title","Descripci\xf3n relacion",3,"text"],["title","Nombre quien llama",3,"text"],["title","Documento quien llama",3,"text"],["title","Motivo consulta",3,"text"],["title","Motivo especifico",3,"text"],["title","Descripci\xf3n motivo",3,"text"],["title","Tipo paciente",3,"text"],["title","Origen",3,"text"],["title","Fuente",3,"text"],["title","Turno",3,"text"],["title","Linea de intervenci\xf3n",3,"text"],["title","Remisi\xf3n",3,"text"],["title","Respuesta",3,"text"],["title","Radicado",3,"text"],["title","N\xfamero Radicado",3,"text"],["title","Nombre",3,"text"],["title","Tipo Identificaci\xf3n",3,"text"],["title","Identificaci\xf3n",3,"text"],["title","Direcci\xf3n",3,"text"],["title","Sisben",3,"text"],["title","Edad",3,"text"],["title","Fecha nacimiento",3,"text"],["title","Como conoci\xf3",3,"text"],["title","Como conoci\xf3 descripci\xf3n",3,"text"],["title","Orientaci\xf3n Sexual",3,"text"],["title","Genero",3,"text"],["title","Sexo",3,"text"],["title","Estado civil",3,"text"],["title","Etnia",3,"text"],["title","Nivel Educaci\xf3n",3,"text"],["title","Ocupaci\xf3n",3,"text"],["title","Poblaci\xf3n de inter\xe9s",3,"text"],["title","Zona",3,"text"],["title","Departamento",3,"text"],["title","Municipio",3,"text"],["title","Vereda",3,"text"],[1,"col-12",3,"hidden"],["title","Narrativa",3,"text"],["title","Observaciones",3,"text"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Rb(2,"app-mostrar-item",2),u.gc(3,"date"),u.Vb(),u.Wb(4,"div",1),u.Rb(5,"app-mostrar-item",3),u.gc(6,"date"),u.Vb(),u.Wb(7,"div",1),u.Rb(8,"app-mostrar-item",4),u.Vb(),u.Wb(9,"div",1),u.Rb(10,"app-mostrar-item",5),u.Vb(),u.Wb(11,"div",1),u.Rb(12,"app-mostrar-item",6),u.Vb(),u.Wb(13,"div",1),u.Rb(14,"app-mostrar-item",7),u.Vb(),u.Wb(15,"div",1),u.Rb(16,"app-mostrar-item",8),u.Vb(),u.Wb(17,"div",1),u.Rb(18,"app-mostrar-item",9),u.Vb(),u.Wb(19,"div",1),u.Rb(20,"app-mostrar-item",10),u.Vb(),u.Wb(21,"div",1),u.Rb(22,"app-mostrar-item",11),u.Vb(),u.Wb(23,"div",1),u.Rb(24,"app-mostrar-item",12),u.Vb(),u.Wb(25,"div",1),u.Rb(26,"app-mostrar-item",13),u.Vb(),u.Wb(27,"div",1),u.Rb(28,"app-mostrar-item",14),u.Vb(),u.Wb(29,"div",1),u.Rb(30,"app-mostrar-item",15),u.Vb(),u.Wb(31,"div",1),u.Rb(32,"app-mostrar-item",16),u.Vb(),u.Wb(33,"div",1),u.Rb(34,"app-mostrar-item",17),u.Vb(),u.Wb(35,"div",1),u.Rb(36,"app-mostrar-item",18),u.Vb(),u.Wb(37,"div",1),u.Rb(38,"app-mostrar-item",19),u.Vb(),u.Wb(39,"div",1),u.Rb(40,"app-mostrar-item",20),u.Vb(),u.Rb(41,"hr"),u.Wb(42,"div",1),u.Rb(43,"app-mostrar-item",21),u.Vb(),u.Wb(44,"div",1),u.Rb(45,"app-mostrar-item",22),u.Vb(),u.Wb(46,"div",1),u.Rb(47,"app-mostrar-item",23),u.Vb(),u.Wb(48,"div",1),u.Rb(49,"app-mostrar-item",24),u.Vb(),u.Wb(50,"div",1),u.Rb(51,"app-mostrar-item",25),u.Vb(),u.Wb(52,"div",1),u.Rb(53,"app-mostrar-item",26),u.Vb(),u.Wb(54,"div",1),u.Rb(55,"app-mostrar-item",27),u.gc(56,"date"),u.Vb(),u.Wb(57,"div",1),u.Rb(58,"app-mostrar-item",28),u.Vb(),u.Wb(59,"div",1),u.Rb(60,"app-mostrar-item",29),u.Vb(),u.Wb(61,"div",1),u.Rb(62,"app-mostrar-item",30),u.Vb(),u.Wb(63,"div",1),u.Rb(64,"app-mostrar-item",31),u.Vb(),u.Wb(65,"div",1),u.Rb(66,"app-mostrar-item",32),u.Vb(),u.Wb(67,"div",1),u.Rb(68,"app-mostrar-item",33),u.Vb(),u.Wb(69,"div",1),u.Rb(70,"app-mostrar-item",34),u.Vb(),u.Wb(71,"div",1),u.Rb(72,"app-mostrar-item",35),u.Vb(),u.Wb(73,"div",1),u.Rb(74,"app-mostrar-item",36),u.Vb(),u.Wb(75,"div",1),u.Rb(76,"app-mostrar-item",37),u.Vb(),u.Wb(77,"div",1),u.Rb(78,"app-mostrar-item",38),u.Vb(),u.Wb(79,"div",1),u.Rb(80,"app-mostrar-item",39),u.Vb(),u.Wb(81,"div",1),u.Rb(82,"app-mostrar-item",40),u.Vb(),u.Wb(83,"div",1),u.Rb(84,"app-mostrar-item",41),u.Vb(),u.Rb(85,"hr"),u.Wb(86,"div",42),u.Rb(87,"app-mostrar-item",43),u.Vb(),u.Wb(88,"div",42),u.Rb(89,"app-mostrar-item",44),u.Vb(),u.Vb()),2&e&&(u.Eb(1),u.lc("hidden",!t.hasText(t.caso.fecha_inicio)),u.Eb(1),u.lc("text",u.ic(3,84,t.caso.fecha_inicio,"short")),u.Eb(2),u.lc("hidden",!t.hasText(t.caso.fecha_fin)),u.Eb(1),u.lc("text",u.ic(6,87,t.caso.fecha_fin,"short")),u.Eb(2),u.lc("hidden",!t.hasText(t.getNameTipo(t.caso.quien_comunica))),u.Eb(1),u.lc("text",t.getNameTipo(t.caso.quien_comunica)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.caso.relacion))),u.Eb(1),u.lc("text",t.getNameTipo(t.caso.relacion)),u.Eb(1),u.lc("hidden",!t.hasText(t.caso.descripcion_relacion)),u.Eb(1),u.lc("text",t.caso.descripcion_relacion),u.Eb(1),u.lc("hidden",!t.hasText(t.caso.nombre_llama)),u.Eb(1),u.lc("text",t.caso.nombre_llama),u.Eb(1),u.lc("hidden",!t.hasText(t.caso.documento_llama)),u.Eb(1),u.lc("text",t.caso.documento_llama),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.caso.motivo_consulta))),u.Eb(1),u.lc("text",t.getNameTipo(t.caso.motivo_consulta)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.caso.motivo_consulta_especifico))),u.Eb(1),u.lc("text",t.getNameTipo(t.caso.motivo_consulta_especifico)),u.Eb(1),u.lc("hidden",!t.hasText(t.caso.descripcion_motivo)),u.Eb(1),u.lc("text",t.caso.descripcion_motivo),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.caso.tipo_paciente))),u.Eb(1),u.lc("text",t.getNameTipo(t.caso.tipo_paciente)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.caso.origen))),u.Eb(1),u.lc("text",t.getNameTipo(t.caso.origen)),u.Eb(1),u.lc("hidden",!t.hasText(t.caso.fuente)),u.Eb(1),u.lc("text",t.caso.fuente),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.caso.turno))),u.Eb(1),u.lc("text",t.getNameTipo(t.caso.turno)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.caso.linea_intervencion))),u.Eb(1),u.lc("text",t.getNameTipo(t.caso.linea_intervencion)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.caso.remision))),u.Eb(1),u.lc("text",t.getNameTipo(t.caso.remision)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.caso.respuesta))),u.Eb(1),u.lc("text",t.getNameTipo(t.caso.respuesta)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.caso.radicado))),u.Eb(1),u.lc("text",t.getNameTipo(t.caso.radicado)),u.Eb(1),u.lc("hidden",!t.hasText(t.caso.descripcion_radicado)),u.Eb(1),u.lc("text",t.caso.descripcion_radicado),u.Eb(2),u.lc("hidden",!t.hasText(t.nombrePaciente)),u.Eb(1),u.lc("text",t.nombrePaciente),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.tipo_identificacion))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.tipo_identificacion)),u.Eb(1),u.lc("hidden",!t.hasText(t.paciente.identificacion)),u.Eb(1),u.lc("text",t.paciente.identificacion),u.Eb(1),u.lc("hidden",!t.hasText(t.paciente.direccion)),u.Eb(1),u.lc("text",t.paciente.direccion),u.Eb(1),u.lc("hidden",!t.hasText(t.paciente.sisben)),u.Eb(1),u.lc("text",t.paciente.sisben),u.Eb(1),u.lc("hidden",!t.hasText(t.paciente.edad+"")),u.Eb(1),u.lc("text",t.paciente.edad),u.Eb(1),u.lc("hidden",!t.hasText(t.paciente.fecha_nacimiento)),u.Eb(1),u.lc("text",u.ic(56,90,t.paciente.fecha_nacimiento,"longDate")),u.Eb(2),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.como_conocio))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.como_conocio)),u.Eb(1),u.lc("hidden",!t.hasText(t.paciente.como_conocio_descripcion)),u.Eb(1),u.lc("text",t.paciente.como_conocio_descripcion),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.orientacion_sexual))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.orientacion_sexual)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.genero))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.genero)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.sexo))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.sexo)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.estado_civil))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.estado_civil)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.etnia))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.etnia)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.nivel_educacion))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.nivel_educacion)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.ocupacion))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.ocupacion)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.poblacion_interes))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.poblacion_interes)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.zona))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.zona)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.departamento))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.departamento)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.municipio))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.municipio)),u.Eb(1),u.lc("hidden",!t.hasText(t.getNameTipo(t.paciente.vereda))),u.Eb(1),u.lc("text",t.getNameTipo(t.paciente.vereda)),u.Eb(2),u.lc("hidden",!t.hasText(t.caso.narrativa)),u.Eb(1),u.lc("text",t.caso.narrativa),u.Eb(1),u.lc("hidden",!t.hasText(t.caso.observaciones)),u.Eb(1),u.lc("text",t.caso.observaciones))},directives:[H],pipes:[o.e],styles:["hr[_ngcontent-%COMP%]{width:99.9%;margin:auto auto 1rem}"]}),e})(),te=(()=>{class e{constructor(e){this._coreService=e}getSeguimientos(e){return this._coreService.get("/get-seguimientos/"+e)}storeSeguimiento(e){return this._coreService.post("/store-seguimiento",e)}}return e.\u0275fac=function(t){return new(t||e)(u.ac(m.a))},e.\u0275prov=u.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ie(e,t){if(1&e&&(u.Wb(0,"li",8),u.Wb(1,"p"),u.Ac(2),u.Wb(3,"span",9),u.Ac(4),u.gc(5,"date"),u.Vb(),u.Vb(),u.Vb()),2&e){const e=t.$implicit;u.Eb(2),u.Cc(" ",e.seguimiento," "),u.Eb(2),u.Cc("(",u.ic(5,2,e.created_at,"short"),")")}}let oe=(()=>{class e{constructor(e){this._seguimientoService=e,this.seguimiento="",this.seguimientos=[]}ngOnInit(){this._seguimientoService.getSeguimientos(this.idCase).subscribe(e=>{this.seguimientos=e})}updateTextSeguimiento(e){this.seguimiento=e.target.value}addSeguimiento(){this.seguimiento.trim()&&this._seguimientoService.storeSeguimiento({caso_id:this.idCase,seguimiento:this.seguimiento}).subscribe(e=>{this.seguimiento="",this.seguimientos.unshift(e)})}}return e.\u0275fac=function(t){return new(t||e)(u.Qb(te))},e.\u0275cmp=u.Kb({type:e,selectors:[["app-seguimientos"]],inputs:{idCase:"idCase"},decls:11,vars:2,consts:[[1,"p-2"],[1,"h5","text-center","m-0","p-0"],[1,"d-flex","col-6","m-auto","pb-2"],["name","seguimiento","id","seguimiento","cols","30","rows","2",1,"form-control",3,"value","input"],[1,"ml-2"],[1,"btn","btn-primary",3,"click"],[1,"timeline","m-0","d-table","m-auto"],["class","event mb-1",4,"ngFor","ngForOf"],[1,"event","mb-1"],[1,"text-muted","date"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"h2",1),u.Ac(2,"Seguimientos"),u.Vb(),u.Wb(3,"div",2),u.Wb(4,"textarea",3),u.dc("input",function(e){return t.updateTextSeguimiento(e)}),u.Ac(5,"    "),u.Vb(),u.Wb(6,"div",4),u.Wb(7,"button",5),u.dc("click",function(){return t.addSeguimiento()}),u.Ac(8," A\xf1adir Seguimiento "),u.Vb(),u.Vb(),u.Vb(),u.Wb(9,"ul",6),u.yc(10,ie,6,5,"li",7),u.Vb(),u.Vb()),2&e&&(u.Eb(4),u.lc("value",t.seguimiento),u.Eb(6),u.lc("ngForOf",t.seguimientos))},directives:[o.m],pipes:[o.e],styles:['p[_ngcontent-%COMP%]{font-weight:300}a[_ngcontent-%COMP%]{color:#6c6d6d;text-decoration:none;text-transform:uppercase;display:block;letter-spacing:.3em;font-size:.6em;font-weight:400;background:#252727;padding:.3rem 1rem;margin:1.9rem 0 0;float:right}a[_ngcontent-%COMP%]:hover{color:#fff;background:#bbdefb;border-bottom:.35em solid #000}strong[_ngcontent-%COMP%]{font-weight:600}h1[_ngcontent-%COMP%]{letter-spacing:1.5px;color:#fff;font-weight:400;font-size:2.4em}#timeline-content[_ngcontent-%COMP%]{margin-top:50px;text-align:center}.timeline[_ngcontent-%COMP%]{border-left:4px solid #bbdefb;border-bottom-right-radius:4px;border-top-right-radius:4px;background:hsla(0,0%,100%,.03);color:hsla(0,0%,100%,.8);margin:50px auto;letter-spacing:.5px;position:relative;line-height:1.4em;font-size:1.03em;padding:1rem;list-style:none;text-align:left;font-weight:100;max-width:80%}.timeline[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{letter-spacing:1.5px;font-weight:100;font-size:1.4em}.timeline[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .timeline[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:1.5px;font-weight:400;font-size:1.4em}.timeline[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]{border-bottom:1px dashed hsla(0,0%,100%,.1);padding-bottom:25px;margin-bottom:50px;position:relative}.timeline[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]:last-of-type{padding-bottom:0;margin-bottom:0;border:none}.timeline[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]:after, .timeline[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]:before{position:absolute;display:block;top:0}.timeline[_ngcontent-%COMP%]   .event[_ngcontent-%COMP%]:after{box-shadow:0 0 0 4px #bbdefb;left:-1.5rem;background:#95b1c9;border-radius:50%;height:11px;width:11px;content:"";top:5px}.date[_ngcontent-%COMP%]{display:block;font-size:.9em}']}),e})();function ne(e,t){if(1&e&&u.Rb(0,"app-mostrar-caso",10),2&e){const e=u.fc();u.lc("caso",e.currentCase)("paciente",e.currentCase.paciente)}}function ce(e,t){if(1&e&&u.Rb(0,"app-seguimientos",11),2&e){const e=u.fc();u.lc("idCase",e.idSeguimiento)}}function ae(e,t){if(1&e){const e=u.Xb();u.Wb(0,"button",12),u.dc("click",function(){return u.sc(e),u.fc().actualizar()}),u.Ac(1," Editar "),u.Vb()}}function re(e,t){if(1&e){const e=u.Xb();u.Wb(0,"button",13),u.dc("click",function(){return u.sc(e),u.fc().limpiar()}),u.Ac(1," Nuevo "),u.Vb()}}function se(e,t){if(1&e){const e=u.Xb();u.Wb(0,"button",14),u.dc("click",function(){return u.sc(e),u.fc().createCase()}),u.Ac(1),u.Vb()}if(2&e){const e=u.fc();u.lc("disabled",e.hasErrors),u.Eb(1),u.Cc(" ",e.btnName," ")}}let le=(()=>{class e{constructor(e,t,i,o,n){this._casoService=e,this._pacienteService=t,this._toastrService=i,this._activateRoute=o,this._location=n,this.currentCase={fecha_fin:null,fecha_inicio:null,fuente:null,linea_intervencion:null,motivo_consulta:null,motivo_consulta_especifico:null,narrativa:null,observaciones:null,origen:null,paciente:{identificacion:null},quien_comunica:null,tipo_paciente:null,turno:null,usuario:null},this.setPaciente=new b.a,this.setCaso=new b.a,this.dataCase={etnicidades:[],lineaIntervenciones:[],motivosConsultas:[],origenes:[],quienComunica:[],radicados:[],relaciones:[],remisiones:[],respuestas:[],tipoPacientes:[],turnos:[],motivosConsultaEspecificos:[]},this.dataPaciente={como_conocio:[],departamentos:[],estado_civiles:[],etnias:[],generos:[],niveles_educacion:[],ocupaciones:[],orientaciones_sexuales:[],sexos:[],tipos_identificacion:[],zonas:[],poblacion_intereses:[]}}ngOnInit(){this._casoService.getOptionsCase().subscribe(e=>{this.dataCase=e}),this._pacienteService.getDataPaciente().subscribe(e=>{this.dataPaciente=e}),this._activateRoute.params.subscribe(e=>{e.id&&(this.idCase=e.id,this._casoService.getById(e.id).subscribe(e=>{this.currentCase=Object.assign({},e),e.id=null,this.setPaciente.next(e.paciente),this.setCaso.next(e)},e=>{console.error(e)}))})}get hasErrorCase(){return!!this.formGroupCase&&this.formGroupCase.invalid}get hasErrorPerson(){return!!this.formGroupPaciente&&this.formGroupPaciente.invalid}get hasErrors(){return this.hasErrorCase||this.hasErrorPerson}get is_update(){return this.formGroupCase.get("id").value||!1}get btnName(){return this.is_update?"Actualizar":"Crear"}setFormGroupCase(e){this.formGroupCase=e}setFormGroupPaciente(e){this.formGroupPaciente=e}resetForms(){this.formGroupCase&&this.formGroupCase.reset(),this.formGroupPaciente&&(this.formGroupPaciente.reset(),this.setPaciente.next({identificacion:null}))}createCase(){this._casoService.createOrUpdateCase(this.formGroupCase.value,this.formGroupPaciente.value).subscribe(e=>{this._toastrService.show("Caso "+(this.is_update?"Actualizado":"Creado"),"\xc9xito",{destroyByClick:!0,preventDuplicates:!0,status:"success",icon:"checkmark"}),e.paciente.identificacion||(e.paciente.identificacion=""),this.setCaso.next(e.caso),this.setPaciente.next(e.paciente)},e=>{console.error(e)})}redirect(e){window.open(e,"popUpWindow","height=600,width=992,left=10,top=10,,scrollbars=yes,menubar=no")}cancelar(){this._location.back()}actualizar(){this.formGroupCase.reset(),this.formGroupPaciente.reset();const e=Object.assign({},this.currentCase);this.idCase=null,this.setCaso.next(e),this.setPaciente.next(e.paciente)}limpiar(){this.formGroupCase.reset(),this.formGroupPaciente.reset();const e=Object.assign({},JSON.parse("{}"));e.paciente=this.currentCase.paciente,e.fuente=this.currentCase.fuente,e.origen=this.currentCase.origen,this.idCase=null,this.setCaso.next(e),this.setPaciente.next(e.paciente)}get idSeguimiento(){return this.idCase||this.formGroupCase.get("id").value}}return e.\u0275fac=function(t){return new(t||e)(u.Qb(p),u.Qb(d),u.Qb(a.G),u.Qb(l.a),u.Qb(o.j))},e.\u0275cmp=u.Kb({type:e,selectors:[["app-actualizar-caso"]],decls:19,vars:10,consts:[[1,"text-center"],[3,"caso","paciente",4,"ngIf"],[3,"hidden"],[3,"setPaciente","setCaso","dataPaciente","dataCase","setFormGroupCase","setFormGroupPaciente"],[3,"idCase",4,"ngIf"],[1,"btn","btn-outline-success","mx-2",3,"click"],[1,"btn","btn-danger","mx-2","float-right",3,"click"],["class","btn btn-info mx-2 float-right",3,"click",4,"ngIf"],["class","btn btn-success mx-2 float-right",3,"click",4,"ngIf"],["id","submit","type","submit","class","btn btn-primary ml-2 float-right",3,"disabled","click",4,"ngIf"],[3,"caso","paciente"],[3,"idCase"],[1,"btn","btn-info","mx-2","float-right",3,"click"],[1,"btn","btn-success","mx-2","float-right",3,"click"],["id","submit","type","submit",1,"btn","btn-primary","ml-2","float-right",3,"disabled","click"]],template:function(e,t){1&e&&(u.Wb(0,"nb-card"),u.Wb(1,"nb-card-header"),u.Wb(2,"h5",0),u.Ac(3,"Datos del caso"),u.Vb(),u.Vb(),u.Wb(4,"nb-card-body"),u.yc(5,ne,1,2,"app-mostrar-caso",1),u.Wb(6,"div",2),u.Wb(7,"app-frm-caso",3),u.dc("setFormGroupCase",function(e){return t.setFormGroupCase(e)})("setFormGroupPaciente",function(e){return t.setFormGroupPaciente(e)}),u.Vb(),u.Vb(),u.yc(8,ce,1,1,"app-seguimientos",4),u.Vb(),u.Wb(9,"nb-card-footer"),u.Wb(10,"button",5),u.dc("click",function(){return t.redirect("https://www.adres.gov.co/BDUA/Consulta-Afiliados-BDUA")}),u.Ac(11," Comprobador de derechos "),u.Vb(),u.Wb(12,"button",5),u.dc("click",function(){return t.redirect("https://www.sisben.gov.co/atencion-al-ciudadano/paginas/consulta-del-puntaje.aspx")}),u.Ac(13," Sisben "),u.Vb(),u.Wb(14,"button",6),u.dc("click",function(){return t.cancelar()}),u.Ac(15," Cancelar "),u.Vb(),u.yc(16,ae,2,0,"button",7),u.yc(17,re,2,0,"button",8),u.yc(18,se,2,2,"button",9),u.Vb(),u.Vb()),2&e&&(u.Eb(5),u.lc("ngIf",t.idCase),u.Eb(1),u.lc("hidden",t.idCase),u.Eb(1),u.lc("setPaciente",t.setPaciente)("setCaso",t.setCaso)("dataPaciente",t.dataPaciente)("dataCase",t.dataCase),u.Eb(1),u.lc("ngIf",t.idSeguimiento),u.Eb(8),u.lc("ngIf",t.idCase),u.Eb(1),u.lc("ngIf",t.idCase),u.Eb(1),u.lc("ngIf",!t.idCase))},directives:[a.h,a.j,a.g,o.n,Z,a.i,ee,oe],styles:[""]}),e})();const be=[{path:"crear",component:(()=>{class e{constructor(e,t,i){this._casoService=e,this._pacienteService=t,this._toastrService=i,this.dataCase={etnicidades:[],lineaIntervenciones:[],motivosConsultas:[],origenes:[],quienComunica:[],radicados:[],relaciones:[],remisiones:[],respuestas:[],tipoPacientes:[],turnos:[],motivosConsultaEspecificos:[]},this.dataPaciente={como_conocio:[],departamentos:[],estado_civiles:[],etnias:[],generos:[],niveles_educacion:[],ocupaciones:[],orientaciones_sexuales:[],sexos:[],tipos_identificacion:[],zonas:[],poblacion_intereses:[]}}ngOnInit(){this._casoService.getOptionsCase().subscribe(e=>{this.dataCase=e}),this._pacienteService.getDataPaciente().subscribe(e=>{this.dataPaciente=e})}get hasErrorCase(){return!!this.formGroupCase&&this.formGroupCase.invalid}get hasErrorPerson(){return!!this.formGroupPaciente&&this.formGroupPaciente.invalid}get hasErrors(){return this.hasErrorCase||this.hasErrorPerson}get is_update(){return this.formGroupCase.get("id").value||!1}get btnName(){return this.is_update?"Actualizar":"Crear"}setFormGroupCase(e){this.formGroupCase=e}setFormGroupPaciente(e){this.formGroupPaciente=e}resetForms(){this.formGroupCase&&this.formGroupCase.reset(),this.formGroupPaciente&&(this.formGroupPaciente.reset(),this.formGroupPaciente.patchValue({identificacion:null}))}createCase(){this._casoService.createOrUpdateCase(this.formGroupCase.value,this.formGroupPaciente.value).subscribe(e=>{this._toastrService.show("Caso "+(this.is_update?"Actualizado":"Creado"),"\xc9xito",{destroyByClick:!0,preventDuplicates:!0,status:"success",icon:"checkmark"}),e.paciente.identificacion||(e.paciente.identificacion=""),this.formGroupCase.patchValue(e.caso),this.formGroupPaciente.patchValue(e.paciente)},e=>{console.error(e)})}redirect(e){window.open(e,"popUpWindow","height=600,width=992,left=10,top=10,,scrollbars=yes,menubar=no")}}return e.\u0275fac=function(t){return new(t||e)(u.Qb(p),u.Qb(d),u.Qb(a.G))},e.\u0275cmp=u.Kb({type:e,selectors:[["app-crear-caso"]],decls:15,vars:4,consts:[[1,"text-center"],[3,"dataPaciente","dataCase","setFormGroupCase","setFormGroupPaciente"],[1,"btn","btn-outline-success","mx-2",3,"click"],[1,"btn","btn-info","mx-2","float-right",3,"click"],["id","submit","type","submit",1,"btn","btn-primary","ml-2","float-right",3,"disabled","click"]],template:function(e,t){1&e&&(u.Wb(0,"nb-card"),u.Wb(1,"nb-card-header"),u.Wb(2,"h5",0),u.Ac(3,"Datos del caso"),u.Vb(),u.Vb(),u.Wb(4,"nb-card-body"),u.Wb(5,"app-frm-caso",1),u.dc("setFormGroupCase",function(e){return t.setFormGroupCase(e)})("setFormGroupPaciente",function(e){return t.setFormGroupPaciente(e)}),u.Vb(),u.Vb(),u.Wb(6,"nb-card-footer"),u.Wb(7,"button",2),u.dc("click",function(){return t.redirect("https://www.adres.gov.co/BDUA/Consulta-Afiliados-BDUA")}),u.Ac(8," Comprobador de derechos "),u.Vb(),u.Wb(9,"button",2),u.dc("click",function(){return t.redirect("https://www.sisben.gov.co/atencion-al-ciudadano/paginas/consulta-del-puntaje.aspx")}),u.Ac(10," Sisben "),u.Vb(),u.Wb(11,"button",3),u.dc("click",function(){return t.resetForms()}),u.Ac(12," Cancelar "),u.Vb(),u.Wb(13,"button",4),u.dc("click",function(){return t.createCase()}),u.Ac(14),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Eb(5),u.lc("dataPaciente",t.dataPaciente)("dataCase",t.dataCase),u.Eb(8),u.lc("disabled",t.hasErrors),u.Eb(1),u.Cc(" ",t.btnName," "))},directives:[a.h,a.j,a.g,Z,a.i],styles:[""]}),e})()},{path:":id",component:le}];let ue=(()=>{class e{}return e.\u0275mod=u.Ob({type:e}),e.\u0275inj=u.Nb({factory:function(t){return new(t||e)},imports:[[l.g.forChild(be)],l.g]}),e})(),me=(()=>{class e{}return e.\u0275mod=u.Ob({type:e}),e.\u0275inj=u.Nb({factory:function(t){return new(t||e)},imports:[[s.a,o.c,ue,n.s,a.x,a.f,a.r,a.c,a.I,a.k,a.t,a.m,a.d,c.a,r.c]]}),e})()}}]);