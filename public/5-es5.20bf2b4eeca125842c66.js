function _classCallCheck(e,c){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,c){for(var i=0;i<c.length;i++){var t=c[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,c,i){return c&&_defineProperties(e.prototype,c),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7O4u":function(e,c,i){"use strict";i.r(c),i.d(c,"GestionCasoModule",(function(){return he}));var t,n,o,a=i("ofXK"),r=i("3Pt+"),s=i("tR1z"),l=i("aceb"),u=i("RS3s"),f=i("zon2"),m=i("tyNb"),h=i("XNiG"),p=i("fXoL"),d=i("230K"),b=((o=function(){function e(c){_classCallCheck(this,e),this._coreService=c}return _createClass(e,[{key:"getOptionsCase",value:function(){return this._coreService.get("/init-data-case")}},{key:"getById",value:function(e){return this._coreService.get("/cases/"+e)}},{key:"createOrUpdateCase",value:function(e,c){return this._coreService.post("/cases",{caso:e,paciente:c})}}]),e}()).\u0275fac=function(e){return new(e||o)(p.mc(d.a))},o.\u0275prov=p.Yb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),v=((n=function(){function e(c){_classCallCheck(this,e),this._coreService=c}return _createClass(e,[{key:"getDataPaciente",value:function(){return this._coreService.get("/init-data-paciente")}},{key:"searchPaciente",value:function(e){return this._coreService.get("/search-paciente?q="+e)}},{key:"getPacienteById",value:function(e){return this._coreService.get("/paciente/"+e)}}]),e}()).\u0275fac=function(e){return new(e||n)(p.mc(d.a))},n.\u0275prov=p.Yb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),g=((t=function(){function e(c){_classCallCheck(this,e),this._coreService=c}return _createClass(e,[{key:"municipioByDepartamento",value:function(e,c){return this._coreService.get("/municipios/".concat(e,"?query=").concat(c))}},{key:"veredaByMunicipio",value:function(e,c){return this._coreService.get("/veredas/".concat(e,"?query=").concat(c))}}]),e}()).\u0275fac=function(e){return new(e||t)(p.mc(d.a))},t.\u0275prov=p.Yb({token:t,factory:t.\u0275fac,providedIn:"root"}),t);function y(e,c){if(1&e){var i=p.jc();p.ic(0,"tr"),p.ic(1,"td"),p.Oc(2),p.hc(),p.ic(3,"td"),p.ic(4,"p",4),p.Oc(5),p.hc(),p.hc(),p.ic(6,"td"),p.ic(7,"div",4),p.ic(8,"button",5),p.qc("click",(function(){p.Gc(i);var e=c.$implicit;return p.sc().seleccionar(e)})),p.Oc(9,"Seleccionar"),p.hc(),p.hc(),p.hc(),p.hc()}if(2&e){var t=c.$implicit;p.Pb(2),p.Pc(t.identificacion?t.identificacion:"N/A"),p.Pb(3),p.Rc(" ",t.nombre," ",t.apellido," ")}}var P,C=((P=function(){function e(c){_classCallCheck(this,e),this._pacienteService=c,this.timeout=null,this.pacientes=[],this.selectPaciente=new p.q}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"searchPaciente",value:function(e){var c=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){c.search(e.target.value)}),400)}},{key:"search",value:function(e){var c=this;this._pacienteService.searchPaciente(e.trim()).subscribe((function(e){c.pacientes=e}))}},{key:"seleccionar",value:function(e){var c=this;this._pacienteService.getPacienteById(e.id).subscribe((function(e){c.selectPaciente.emit(e)}))}}]),e}()).\u0275fac=function(e){return new(e||P)(p.cc(v))},P.\u0275cmp=p.Wb({type:P,selectors:[["app-list-users"]],outputs:{selectPaciente:"selectPaciente"},decls:13,vars:1,consts:[[1,"py-2"],["type","search","placeholder","ingrese b\xfasqueda por nombre, apellido o identificaci\xf3n",1,"form-control","mb-2",3,"keyup"],[1,"table","table-bordered","text-center"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-success",3,"click"]],template:function(e,c){1&e&&(p.ic(0,"div",0),p.ic(1,"input",1),p.qc("keyup",(function(e){return c.searchPaciente(e)})),p.hc(),p.ic(2,"table",2),p.ic(3,"thead"),p.ic(4,"tr"),p.ic(5,"th"),p.Oc(6,"Identificaci\xf3n"),p.hc(),p.ic(7,"th"),p.Oc(8,"Nombre completo"),p.hc(),p.ic(9,"th"),p.Oc(10,"Opci\xf3n"),p.hc(),p.hc(),p.hc(),p.ic(11,"tbody"),p.Mc(12,y,10,3,"tr",3),p.hc(),p.hc(),p.hc()),2&e&&(p.Pb(12),p.yc("ngForOf",c.pacientes))},directives:[a.l],styles:[""]}),P);function _(e,c){if(1&e){var i=p.jc();p.ic(0,"span",6),p.qc("click",(function(){return p.Gc(i),p.sc().delete()})),p.ic(1,"i",7),p.qc("click",(function(){return p.Gc(i),p.sc().delete()})),p.hc(),p.hc()}}var k=function(e){return{selected:e}};function O(e,c){if(1&e){var i=p.jc();p.ic(0,"li",8),p.qc("click",(function(){p.Gc(i);var e=c.index;return p.sc().selectItem(e)})),p.ic(1,"a",9),p.qc("click",(function(){p.Gc(i);var e=c.index;return p.sc().selectItem(e)})),p.Oc(2),p.hc(),p.hc()}if(2&e){var t=c.$implicit,n=c.index,o=p.sc();p.yc("ngClass",p.Ac(2,k,n==o.selectIndex)),p.Pb(2),p.Pc(o.getTitle(t))}}var G,F=((G=function(){function e(){var c=this;_classCallCheck(this,e),this.listFiltered=null,this.debounce=!1,this.list=[],this.getTitle=function(e){return e},this.filter=function(e){return new Promise((function(i,t){if(null==e?void 0:e.trim()){var n=RegExp("^.*".concat(e.trim(),".*$"),"i");i(c.list.filter((function(e){return n.test(c.getTitle(e))})))}else i(c.list)}))},this.change=new p.q,this.search="",this.selectIndex=0,this.showList=!1,this.onChange=function(e){}}return _createClass(e,[{key:"writeValue",value:function(e){var c=this;if(this.listFiltered=this.list,null==e)this.delete();else{var i=this.listFiltered.findIndex((function(i){return c.getTitle(i).toLocaleLowerCase()===c.getTitle(e).toLocaleLowerCase()}));i<0?(this.listFiltered||(this.listFiltered=[]),this.listFiltered.unshift(e),this.selectItem(0)):this.selectItem(i)}}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){}},{key:"setDisabledState",value:function(e){}},{key:"ngOnInit",value:function(){}},{key:"listItems",get:function(){return null===this.listFiltered?this.list:this.listFiltered}},{key:"select",value:function(){var e=this,c=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];c?setTimeout((function(){e.showList=!1}),200):this.showList=!1;var i=this.listItems[this.selectIndex];i&&(this.search=this.getTitle(i),this.change.emit(i),this.onChange(i))}},{key:"pressKeyUp",value:function(e){var c=this;switch(e.key){case"Enter":e.preventDefault(),this.select(!1);break;case"ArrowDown":e.preventDefault(),this.selectIndex<this.listItems.length-1&&this.selectIndex++;break;case"ArrowUp":e.preventDefault(),this.selectIndex>0&&this.selectIndex--;break;case"Tab":break;default:this.debounce?(clearTimeout(this.time),this.time=setTimeout((function(){c.filter(c.search).then((function(e){c.showList=!0,c.listFiltered=e}))}),400)):this.filter(this.search).then((function(e){c.showList=!0,c.listFiltered=e})),this.selectIndex=0}}},{key:"selectItem",value:function(e){this.selectIndex=e,this.select()}},{key:"showDelete",get:function(){return!!this.search&&this.search.length>0}},{key:"delete",value:function(){this.change.emit(null),this.search="",this.selectIndex=0,this.listFiltered=this.list,this.onChange(null)}}]),e}()).\u0275fac=function(e){return new(e||G)},G.\u0275cmp=p.Wb({type:G,selectors:[["app-select-filter"]],inputs:{debounce:"debounce",list:"list",getTitle:"getTitle",filter:"filter"},outputs:{change:"change"},features:[p.Ob([{provide:r.l,multi:!0,useExisting:Object(p.gb)((function(){return G}))}])],decls:7,vars:4,consts:[[1,"input-group","flex-nowrap"],["type","text","placeholder","Search for names..",1,"form-control",3,"ngModel","blur","focus","ngModelChange","keyup"],["class","btn btn-sm btn-outline-danger clear-select",3,"click",4,"ngIf"],[1,"cont","d-flex"],[3,"hidden"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-danger","clear-select",3,"click"],[1,"fas","fa-times",3,"click"],[3,"ngClass","click"],[3,"click"]],template:function(e,c){1&e&&(p.ic(0,"div"),p.ic(1,"div",0),p.ic(2,"input",1),p.qc("blur",(function(){return c.select()}))("focus",(function(){return c.showList=!0}))("ngModelChange",(function(e){return c.search=e}))("keyup",(function(e){return c.pressKeyUp(e)})),p.hc(),p.Mc(3,_,2,0,"span",2),p.hc(),p.dc(4,"div",3),p.ic(5,"ul",4),p.Mc(6,O,3,4,"li",5),p.hc(),p.hc()),2&e&&(p.Pb(2),p.yc("ngModel",c.search),p.Pb(1),p.yc("ngIf",c.showDelete),p.Pb(2),p.yc("hidden",!c.showList),p.Pb(1),p.yc("ngForOf",c.listItems))},directives:[r.c,r.n,r.q,a.m,a.l,a.k],styles:["div[_ngcontent-%COMP%]{position:relative}ul[_ngcontent-%COMP%]{list-style:none;padding:0;max-height:14.5rem;overflow-y:auto;position:absolute;z-index:100;background:#fff;box-shadow:0 0 4px grey;width:100%}li[_ngcontent-%COMP%]{padding:.5rem 1rem;margin:0}.selected[_ngcontent-%COMP%]{background-color:#598bff;color:#f5f5f5}.close[_ngcontent-%COMP%]{cursor:pointer}.clear-select[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),G);function w(e,c){if(1&e){var i=p.jc();p.gc(0),p.ic(1,"button",8),p.qc("click",(function(){return p.Gc(i),p.sc().cancelarBusquedaUsuario()})),p.Oc(2,"Cancelar Busqueda"),p.hc(),p.fc()}}function x(e,c){if(1&e){var i=p.jc();p.ic(0,"button",9),p.qc("click",(function(){return p.Gc(i),p.sc().buscarUsuario()})),p.Oc(1,"Buscar Usuario"),p.hc()}}function I(e,c){if(1&e){var i=p.jc();p.ic(0,"div",10),p.ic(1,"app-list-users",11),p.qc("selectPaciente",(function(e){return p.Gc(i),p.sc().selectPaciente(e)})),p.hc(),p.hc()}}function M(e,c){if(1&e&&(p.ic(0,"option",54),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function S(e,c){if(1&e&&(p.ic(0,"option",54),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function V(e,c){if(1&e&&(p.ic(0,"option",54),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function q(e,c){if(1&e&&(p.ic(0,"option",54),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function N(e,c){if(1&e&&(p.ic(0,"option",54),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function D(e,c){if(1&e&&(p.ic(0,"option",54),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function W(e,c){if(1&e&&(p.ic(0,"option",54),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function T(e,c){if(1&e&&(p.ic(0,"option",54),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function E(e,c){if(1&e&&(p.ic(0,"option",54),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function B(e,c){if(1&e&&(p.ic(0,"option",54),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function $(e,c){if(1&e&&(p.ic(0,"option",54),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function Q(e,c){if(1&e&&(p.ic(0,"div",12),p.ic(1,"label",55),p.Oc(2," Municipio "),p.hc(),p.dc(3,"app-select-filter",56),p.hc()),2&e){var i=p.sc(2);p.Pb(3),p.yc("list",i.municipios)("getTitle",i.getTitleMunicipio)("filter",i.callbackFilterMunicipio)("debounce",!0)}}function U(e,c){if(1&e&&(p.ic(0,"div",12),p.ic(1,"label",57),p.Oc(2," Vereda "),p.hc(),p.dc(3,"app-select-filter",58),p.hc()),2&e){var i=p.sc(2);p.Pb(3),p.yc("list",i.veredas)("getTitle",i.getTitleVereda)("filter",i.callbackFilterVereda)("debounce",!0)}}function L(e,c){if(1&e&&(p.gc(0),p.ic(1,"div",12),p.ic(2,"label",13),p.Oc(3," Tipo Identificaci\xf3n "),p.hc(),p.ic(4,"select",14),p.ic(5,"option",15),p.Oc(6,"Seleccione"),p.hc(),p.Mc(7,M,2,2,"option",16),p.hc(),p.hc(),p.ic(8,"div",12),p.ic(9,"label",17),p.Oc(10," Identificaci\xf3n "),p.hc(),p.dc(11,"input",18),p.hc(),p.ic(12,"div",12),p.ic(13,"label",19),p.Oc(14," Nombres "),p.hc(),p.dc(15,"input",20),p.hc(),p.ic(16,"div",12),p.ic(17,"label",21),p.Oc(18," Apellidos "),p.hc(),p.dc(19,"input",22),p.hc(),p.ic(20,"div",12),p.ic(21,"label",23),p.Oc(22," Edad "),p.hc(),p.dc(23,"input",24),p.hc(),p.ic(24,"div",12),p.ic(25,"label",25),p.Oc(26," Fecha Nacimiento "),p.hc(),p.dc(27,"input",26),p.hc(),p.ic(28,"div",12),p.ic(29,"label",27),p.Oc(30," Direcci\xf3n "),p.hc(),p.dc(31,"input",28),p.hc(),p.ic(32,"div",12),p.ic(33,"label",29),p.Oc(34," Orientaci\xf3n Sexual "),p.hc(),p.ic(35,"select",30),p.ic(36,"option",15),p.Oc(37,"Seleccione"),p.hc(),p.Mc(38,S,2,2,"option",16),p.hc(),p.hc(),p.ic(39,"div",12),p.ic(40,"label",31),p.Oc(41," Genero "),p.hc(),p.ic(42,"select",32),p.ic(43,"option",15),p.Oc(44,"Seleccione"),p.hc(),p.Mc(45,V,2,2,"option",16),p.hc(),p.hc(),p.ic(46,"div",12),p.ic(47,"label",33),p.Oc(48," Sexo "),p.hc(),p.ic(49,"select",34),p.ic(50,"option",15),p.Oc(51,"Seleccione"),p.hc(),p.Mc(52,q,2,2,"option",16),p.hc(),p.hc(),p.ic(53,"div",12),p.ic(54,"label",35),p.Oc(55," Etnia "),p.hc(),p.ic(56,"select",36),p.ic(57,"option",15),p.Oc(58,"Seleccione"),p.hc(),p.Mc(59,N,2,2,"option",16),p.hc(),p.hc(),p.ic(60,"div",12),p.ic(61,"label",37),p.Oc(62," Estado Civil "),p.hc(),p.ic(63,"select",38),p.ic(64,"option",15),p.Oc(65,"Seleccione"),p.hc(),p.Mc(66,D,2,2,"option",16),p.hc(),p.hc(),p.ic(67,"div",12),p.ic(68,"label",39),p.Oc(69," Ocupaci\xf3n "),p.hc(),p.ic(70,"select",40),p.ic(71,"option",15),p.Oc(72,"Seleccione"),p.hc(),p.Mc(73,W,2,2,"option",16),p.hc(),p.hc(),p.ic(74,"div",12),p.ic(75,"label",41),p.Oc(76," Nivel Educaci\xf3n "),p.hc(),p.ic(77,"select",42),p.ic(78,"option",15),p.Oc(79,"Seleccione"),p.hc(),p.Mc(80,T,2,2,"option",16),p.hc(),p.hc(),p.ic(81,"div",12),p.ic(82,"label",43),p.Oc(83," Zonas "),p.hc(),p.ic(84,"select",44),p.ic(85,"option",15),p.Oc(86,"Seleccione"),p.hc(),p.Mc(87,E,2,2,"option",16),p.hc(),p.hc(),p.ic(88,"div",12),p.ic(89,"label",45),p.Oc(90," \xbfComo conoci\xf3? "),p.hc(),p.ic(91,"select",46),p.ic(92,"option",15),p.Oc(93,"Seleccione"),p.hc(),p.Mc(94,B,2,2,"option",16),p.hc(),p.hc(),p.ic(95,"div",12),p.ic(96,"label",47),p.Oc(97," Como conoci\xf3 descripci\xf3n adicional "),p.hc(),p.dc(98,"input",48),p.hc(),p.ic(99,"div",12),p.ic(100,"label",49),p.Oc(101," Poblaci\xf3n Inter\xe9s "),p.hc(),p.ic(102,"select",50),p.ic(103,"option",15),p.Oc(104,"Seleccione"),p.hc(),p.Mc(105,$,2,2,"option",16),p.hc(),p.hc(),p.ic(106,"div",12),p.ic(107,"label",51),p.Oc(108," Departamento "),p.hc(),p.dc(109,"app-select-filter",52),p.hc(),p.Mc(110,Q,4,4,"div",53),p.Mc(111,U,4,4,"div",53),p.fc()),2&e){var i=p.sc();p.Pb(4),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.tipos_identificacion),p.Pb(20),p.yc("max",i.currentDay),p.Pb(8),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.orientaciones_sexuales),p.Pb(4),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.generos),p.Pb(4),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.sexos),p.Pb(4),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.etnias),p.Pb(4),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.estado_civiles),p.Pb(4),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.ocupaciones),p.Pb(4),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.niveles_educacion),p.Pb(4),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.zonas),p.Pb(4),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.como_conocio),p.Pb(8),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.poblacion_intereses),p.Pb(4),p.yc("list",i.departamentos)("getTitle",i.getTitleDepartamento),p.Pb(1),p.yc("ngIf",i.hasDepartamento),p.Pb(1),p.yc("ngIf",i.is_rural&&i.hasMunicipio)}}var j,z=((j=function(){function e(c,i){_classCallCheck(this,e),this._formBuilder=c,this._locationService=i,this.buscar=!1,this.municipios=[],this.veredas=[],this.paciente={identificacion:null},this.setFormGroupPaciente=new p.q,this.setPaciente=null}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.currentDay=this.getDateInput(new Date),this.callbackFilterMunicipio=this.filterMunicipio.bind(this),this.callbackFilterVereda=this.filterVereda.bind(this),this.formGroupPaciente=this._formBuilder.group({id:[null],identificacion:[null],nombre:[null],apellido:[null],sisben:[null],edad:[null],direccion:[null],fecha_nacimiento:[null],como_conocio:[null],como_conocio_descripcion:[null],orientacion_sexual:[null],genero:[null],sexo:[null],etnia:[null],estado_civil:[null],ocupacion:[null],nivel_educacion:[null],zona:[null],tipo_identificacion:[null],poblacion_interes:[null],municipio:[null],departamento:[null],vereda:[null]}),this.setFormGroupPaciente.emit(this.formGroupPaciente),this.setPaciente&&(this.subscriber=this.setPaciente.subscribe((function(c){c.id&&!c.identificacion&&(c.identificacion=""),e.formGroupPaciente.patchValue(c)})))}},{key:"ngOnDestroy",value:function(){this.subscriber&&this.subscriber.unsubscribe()}},{key:"hasIdentification",get:function(){return null!==this.formGroupPaciente.get("identificacion").value}},{key:"orientaciones_sexuales",get:function(){return this.dataPaciente.orientaciones_sexuales}},{key:"generos",get:function(){return this.dataPaciente.generos}},{key:"sexos",get:function(){return this.dataPaciente.sexos}},{key:"etnias",get:function(){return this.dataPaciente.etnias}},{key:"estado_civiles",get:function(){return this.dataPaciente.estado_civiles}},{key:"ocupaciones",get:function(){return this.dataPaciente.ocupaciones}},{key:"niveles_educacion",get:function(){return this.dataPaciente.niveles_educacion}},{key:"zonas",get:function(){return this.dataPaciente.zonas}},{key:"tipos_identificacion",get:function(){return this.dataPaciente.tipos_identificacion}},{key:"poblacion_intereses",get:function(){return this.dataPaciente.poblacion_intereses}},{key:"departamentos",get:function(){return this.dataPaciente.departamentos}},{key:"como_conocio",get:function(){return this.dataPaciente.como_conocio}},{key:"is_rural",get:function(){var e=this.formGroupPaciente.get("zona").value;return!(!e||!e.name)&&e.name.toLocaleLowerCase().includes("rural")}},{key:"hasDepartamento",get:function(){var e=this.formGroupPaciente.get("departamento").value;return!(!e||!e.name)}},{key:"hasMunicipio",get:function(){var e=this.formGroupPaciente.get("municipio").value;return!(!e||!e.name)}},{key:"buscarUsuario",value:function(){this.formGroupPaciente.patchValue({identificacion:null}),this.buscar=!0}},{key:"compare",value:function(e,c){return e&&c?e.id===c.id:e===c}},{key:"cancelarBusquedaUsuario",value:function(){this.formGroupPaciente.patchValue({identificacion:null}),this.buscar=!1}},{key:"nuevoUsuario",value:function(){this.cancelarBusquedaUsuario(),this.formGroupPaciente.reset(),Object.assign(this.paciente,this.formGroupPaciente.value),this.formGroupPaciente.patchValue({identificacion:""})}},{key:"selectPaciente",value:function(e){Object.assign(this.paciente,e),this.formGroupPaciente.patchValue(e),e.identificacion||this.formGroupPaciente.patchValue({identificacion:""}),this.buscar=!1}},{key:"getTitleDepartamento",value:function(e){return e.name}},{key:"getTitleMunicipio",value:function(e){return e.name}},{key:"getTitleVereda",value:function(e){return e.name}},{key:"departamento",get:function(){var e=this.formGroupPaciente.get("departamento").value;return e&&e.id?e:null}},{key:"departamentoId",get:function(){return this.departamento?this.departamento.id:0}},{key:"municipio",get:function(){var e=this.formGroupPaciente.get("municipio").value;return e&&e.id?e:null}},{key:"municipioId",get:function(){return this.municipio?this.municipio.id:0}},{key:"filterMunicipio",value:function(e){var c=this;return new Promise((function(i,t){(null==e?void 0:e.trim())?c._locationService.municipioByDepartamento(c.departamentoId,e).subscribe((function(e){i(e)}),(function(e){t(e),console.error(e)})):i(c.municipios)}))}},{key:"filterVereda",value:function(e){var c=this;return new Promise((function(i,t){(null==e?void 0:e.trim())?c._locationService.veredaByMunicipio(c.municipioId,e).subscribe((function(e){i(e)}),(function(e){t(e),console.error(e)})):i(c.municipios)}))}},{key:"prevent",value:function(e){e.preventDefault()}},{key:"getFullNumber",value:function(e){return e<10?"0"+e:e}},{key:"getDateInput",value:function(e){return"".concat(e.getFullYear(),"-").concat(this.getFullNumber(e.getMonth()+1),"-").concat(this.getFullNumber(e.getDate()))}}]),e}()).\u0275fac=function(e){return new(e||j)(p.cc(r.d),p.cc(g))},j.\u0275cmp=p.Wb({type:j,selectors:[["app-frm-paciente"]],inputs:{dataPaciente:"dataPaciente",setPaciente:"setPaciente"},outputs:{setFormGroupPaciente:"setFormGroupPaciente"},decls:10,vars:5,consts:[[1,"col-12","text-center","pb-4"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"btn","btn-success","ml-2",3,"click"],["class","col-12",4,"ngIf"],[3,"formGroup","submit"],[1,"row"],[4,"ngIf"],[1,"btn","btn-danger","mr-2",3,"click"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"col-12"],[3,"selectPaciente"],[1,"col-4","mb-3"],["for","tipo_identificacion",1,"form-label"],["formControlName","tipo_identificacion",1,"form-control",3,"compareWith"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","identificacion",1,"form-label"],["formControlName","identificacion","type","text","id","identificacion",1,"form-control"],["for","nombre",1,"form-label"],["formControlName","nombre","type","text","id","nombre",1,"form-control"],["for","apellido",1,"form-label"],["formControlName","apellido","type","text","id","apellido",1,"form-control"],["for","edad",1,"form-label"],["formControlName","edad","type","number","min","1","id","edad",1,"form-control"],["for","fecha_nacimiento",1,"form-label"],["formControlName","fecha_nacimiento","type","date","id","fecha_nacimiento",1,"form-control",3,"max"],["for","direccion",1,"form-label"],["formControlName","direccion","type","text","id","direccion",1,"form-control"],["for","orientacion_sexual",1,"form-label"],["formControlName","orientacion_sexual",1,"form-control",3,"compareWith"],["for","genero",1,"form-label"],["formControlName","genero",1,"form-control",3,"compareWith"],["for","sexo",1,"form-label"],["formControlName","sexo",1,"form-control",3,"compareWith"],["for","etnia",1,"form-label"],["formControlName","etnia",1,"form-control",3,"compareWith"],["for","estado_civil",1,"form-label"],["formControlName","estado_civil",1,"form-control",3,"compareWith"],["for","ocupacion",1,"form-label"],["formControlName","ocupacion",1,"form-control",3,"compareWith"],["for","nivel_educacion",1,"form-label"],["formControlName","nivel_educacion",1,"form-control",3,"compareWith"],["for","zona",1,"form-label"],["formControlName","zona",1,"form-control",3,"compareWith"],["for","como_conocio",1,"form-label"],["formControlName","como_conocio",1,"form-control",3,"compareWith"],["for","como_conocio_descripcion",1,"form-label"],["formControlName","como_conocio_descripcion","type","text","id","como_conocio_descripcion",1,"form-control"],["for","poblacion_interes",1,"form-label"],["formControlName","poblacion_interes",1,"form-control",3,"compareWith"],["for","departamento",1,"form-label"],["formControlName","departamento",3,"list","getTitle"],["class","col-4 mb-3",4,"ngIf"],[3,"ngValue"],["for","municipio",1,"form-label"],["formControlName","municipio",3,"list","getTitle","filter","debounce"],["for","vereda",1,"form-label"],["formControlName","vereda",3,"list","getTitle","filter","debounce"]],template:function(e,c){if(1&e&&(p.ic(0,"div",0),p.Mc(1,w,3,0,"ng-container",1),p.Mc(2,x,2,0,"ng-template",null,2,p.Nc),p.ic(4,"button",3),p.qc("click",(function(){return c.nuevoUsuario()})),p.Oc(5,"Nuevo Usuario"),p.hc(),p.hc(),p.Mc(6,I,2,0,"div",4),p.ic(7,"form",5),p.qc("submit",(function(e){return c.prevent(e)})),p.ic(8,"div",6),p.Mc(9,L,112,38,"ng-container",7),p.hc(),p.hc()),2&e){var i=p.Ec(3);p.Pb(1),p.yc("ngIf",c.buscar)("ngIfElse",i),p.Pb(5),p.yc("ngIf",c.buscar),p.Pb(1),p.yc("formGroup",c.formGroupPaciente),p.Pb(2),p.yc("ngIf",c.hasIdentification&&!c.buscar)}},directives:[a.m,r.y,r.o,r.h,C,r.v,r.n,r.g,r.r,r.x,a.l,r.c,r.s,F],styles:[""]}),j);function A(e,c){if(1&e&&(p.ic(0,"option",30),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function R(e,c){if(1&e&&(p.ic(0,"option",30),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function Y(e,c){1&e&&(p.gc(0),p.ic(1,"div",2),p.ic(2,"label",31),p.Oc(3," Nombre de quien llama "),p.hc(),p.dc(4,"input",32),p.hc(),p.ic(5,"div",2),p.ic(6,"label",33),p.Oc(7," Documento de quien llama "),p.hc(),p.dc(8,"input",34),p.hc(),p.ic(9,"div",2),p.ic(10,"label",35),p.Oc(11," Relaci\xf3n con el usuario "),p.hc(),p.dc(12,"input",36),p.hc(),p.fc())}function K(e,c){if(1&e&&(p.ic(0,"option",30),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function X(e,c){if(1&e&&(p.ic(0,"option",30),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function Z(e,c){if(1&e&&(p.ic(0,"option",30),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function J(e,c){if(1&e&&(p.ic(0,"div",2),p.ic(1,"label",37),p.Oc(2," Motivo de consulta especifico "),p.hc(),p.ic(3,"select",38),p.ic(4,"option",9),p.Oc(5,"Seleccione"),p.hc(),p.Mc(6,Z,2,2,"option",10),p.hc(),p.hc()),2&e){var i=p.sc();p.Pb(3),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.motivo_consulta_especificos)}}function H(e,c){1&e&&(p.ic(0,"div",2),p.ic(1,"label",39),p.Oc(2," \xbfCual Motivo? "),p.hc(),p.dc(3,"input",40),p.hc())}function ee(e,c){if(1&e&&(p.ic(0,"option",30),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function ce(e,c){if(1&e&&(p.ic(0,"option",30),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function ie(e,c){if(1&e&&(p.ic(0,"option",30),p.Oc(1),p.hc()),2&e){var i=c.$implicit;p.yc("ngValue",i),p.Pb(1),p.Qc(" ",i.name," ")}}function te(e,c){if(1&e&&(p.gc(0),p.ic(1,"div",2),p.ic(2,"label",41),p.Oc(3," \xbfCu\xe1l entidad? "),p.hc(),p.ic(4,"select",42),p.ic(5,"option",9),p.Oc(6,"Seleccione"),p.hc(),p.Mc(7,ce,2,2,"option",10),p.hc(),p.hc(),p.ic(8,"div",2),p.ic(9,"label",43),p.Oc(10," Respuesta efectiva "),p.hc(),p.ic(11,"select",44),p.ic(12,"option",9),p.Oc(13,"Seleccione"),p.hc(),p.Mc(14,ie,2,2,"option",10),p.hc(),p.hc(),p.ic(15,"div",2),p.ic(16,"label",45),p.Oc(17," N\xfamero de radicado "),p.hc(),p.dc(18,"input",46),p.hc(),p.fc()),2&e){var i=p.sc();p.Pb(4),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.remisiones),p.Pb(4),p.yc("compareWith",i.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",i.respuestas)}}var ne,oe,ae,re,se,le=((oe=function(){function e(c){_classCallCheck(this,e),this._formBuilder=c,this.setCaso=null,this.setPaciente=null,this.setFormGroupCase=new p.q,this.setFormGroupPaciente=new p.q,this.motivoConsulta=null,this.quienComunica=null,this.lineaIntervencion=null}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.createFrom(),this.setCaso&&(this.subscriber=this.setCaso.subscribe((function(c){e.formGroupCase.patchValue(c),e.formGroupCase.patchValue({fecha_inicio:e.getDateTimeInput(new Date(c.fecha_inicio)),fecha_fin:e.getDateTimeInput(new Date(c.fecha_fin))})}))),this.updateMaxDate(),this.interval=setInterval((function(){e.updateMaxDate()}),3e4)}},{key:"updateMaxDate",value:function(){this.maxDate=this.getDateTimeInput(new Date)}},{key:"minDateFinal",get:function(){return this.formGroupCase.get("fecha_inicio").value||""}},{key:"ngOnDestroy",value:function(){this.subscriber&&this.subscriber.unsubscribe(),clearInterval(this.interval)}},{key:"createFrom",value:function(){this.formGroupCase=this._formBuilder.group({id:[null],observaciones:[null,[r.w.required]],narrativa:[null,[r.w.required]],fuente:[null,[r.w.required]],fecha_inicio:[null,[r.w.required]],fecha_fin:[null,[r.w.required]],linea_intervencion:[null,[r.w.required]],origen:[null,[r.w.required]],nombre_llama:[null],documento_llama:[null],descripcion_motivo:[null],descripcion_relacion:[null],descripcion_radicado:[null],paciente:[null],motivo_consulta:[null],motivo_consulta_especifico:[null],quien_comunica:[null],turno:[null],etnicidad:[null],relacion:[null],remision:[null],respuesta:[null],radicado:[null]}),this.setFormGroupCase.emit(this.formGroupCase)}},{key:"paciente",get:function(){return this.formGroupCase.get("paciente")}},{key:"turnos",get:function(){return this.dataCase.turnos}},{key:"quienes_comunican",get:function(){return this.dataCase.quienComunica}},{key:"origenes",get:function(){return this.dataCase.origenes}},{key:"motivo_consultas",get:function(){return this.dataCase.motivosConsultas}},{key:"motivo_consulta_especificos",get:function(){var e=this;return this.motivoConsulta&&this.motivoConsulta.id?this.dataCase.motivosConsultaEspecificos.filter((function(c){return c.motivo_consulta_id==e.motivoConsulta.id})):[]}},{key:"has_motivos_especificos",get:function(){return this.motivo_consulta_especificos.length>0}},{key:"linea_intervenciones",get:function(){return this.dataCase.lineaIntervenciones}},{key:"se_comunica_otra_persona",get:function(){var e=this.formGroupCase.get("quien_comunica").value;return!!e&&e.name.toLocaleLowerCase().includes("otra")}},{key:"is_remision",get:function(){var e=this.formGroupCase.get("linea_intervencion").value;return!!e&&e.name.toLocaleLowerCase().includes("remisi\xf3n")}},{key:"remisiones",get:function(){return this.dataCase.remisiones}},{key:"respuestas",get:function(){return this.dataCase.respuestas}},{key:"clearMotivoEspecifico",value:function(){this.formGroupCase.get("motivo_consulta_especifico").patchValue(null)}},{key:"compare",value:function(e,c){return e&&c?e.id===c.id:e===c}},{key:"onSetFormGroupPaciente",value:function(e){this.setFormGroupPaciente.emit(e)}},{key:"getFullNumber",value:function(e){return e<10?"0"+e:e}},{key:"getDateInput",value:function(e){return"".concat(e.getFullYear(),"-").concat(this.getFullNumber(e.getMonth()+1),"-").concat(this.getFullNumber(e.getDate()))}},{key:"getDateTimeInput",value:function(e){var c=e.toTimeString().slice(0,5);return"".concat(this.getDateInput(e),"T").concat(c)}}]),e}()).\u0275fac=function(e){return new(e||oe)(p.cc(r.d))},oe.\u0275cmp=p.Wb({type:oe,selectors:[["app-frm-caso"]],inputs:{dataCase:"dataCase",dataPaciente:"dataPaciente",setCaso:"setCaso",setPaciente:"setPaciente"},outputs:{setFormGroupCase:"setFormGroupCase",setFormGroupPaciente:"setFormGroupPaciente"},decls:66,vars:29,consts:[[3,"formGroup"],[1,"row"],[1,"col-4","mb-3"],["for","fechaInicial",1,"form-label"],["formControlName","fecha_inicio","type","datetime-local","id","fechaInicial",1,"form-control",3,"max"],["for","fechaFinal",1,"form-label"],["formControlName","fecha_fin","type","datetime-local","id","fechaFinal",1,"form-control",3,"min","max"],["for","turno",1,"form-label"],["formControlName","turno","id","turno",1,"form-control",3,"compareWith"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","quienSeComunica",1,"form-label"],["formControlName","quien_comunica","id","quienSeComunica",1,"form-control",3,"compareWith","ngModel","ngModelChange"],[4,"ngIf"],["for","origen",1,"form-label"],["formControlName","origen","id","origen",1,"form-control",3,"compareWith"],["for","fuente",1,"form-label"],["type","text","id","fuente","formControlName","fuente",1,"form-control"],["for","motivo_consulta",1,"form-label"],["formControlName","motivo_consulta","id","motivo_consulta",1,"form-control",3,"compareWith","ngModel","ngModelChange","change"],["class","col-4 mb-3",4,"ngIf"],["for","linea_intervencion",1,"form-label"],["formControlName","linea_intervencion","id","linea_intervencion",1,"form-control",3,"compareWith","ngModel","ngModelChange"],[1,"col-12","mb-3"],["for","narrativa",1,"form-label"],["formControlName","narrativa","id","narrativa","cols","30","rows","8",1,"form-control"],[1,"text-center"],[3,"setPaciente","dataPaciente","setFormGroupPaciente"],["for","observaciones",1,"form-label"],["formControlName","observaciones","id","observaciones","cols","30","rows","8",1,"form-control"],[3,"ngValue"],["for","nombre_llama",1,"form-label"],["formControlName","nombre_llama","id","nombre_llama","type","text",1,"form-control"],["for","documento_llama",1,"form-label"],["formControlName","documento_llama","id","documento_llama","type","text",1,"form-control"],["for","descripcion_relacion",1,"form-label"],["formControlName","descripcion_relacion","id","descripcion_relacion","type","text",1,"form-control"],["for","motivo_consulta_especifico",1,"form-label"],["formControlName","motivo_consulta_especifico","id","motivo_consulta_especifico",1,"form-control",3,"compareWith"],["for","descripcion_motivo",1,"form-label"],["type","text","id","descripcion_motivo","formControlName","descripcion_motivo",1,"form-control"],["for","remision",1,"form-label"],["formControlName","remision","id","remision",1,"form-control",3,"compareWith"],["for","respuesta",1,"form-label"],["formControlName","respuesta","id","respuesta",1,"form-control",3,"compareWith"],["for","descripcion_radicado",1,"form-label"],["type","text","id","descripcion_radicado","formControlName","descripcion_radicado",1,"form-control"]],template:function(e,c){1&e&&(p.ic(0,"form",0),p.ic(1,"div",1),p.ic(2,"div",2),p.ic(3,"label",3),p.Oc(4,"Fecha Inicial"),p.hc(),p.dc(5,"input",4),p.hc(),p.ic(6,"div",2),p.ic(7,"label",5),p.Oc(8,"Fecha Final"),p.hc(),p.dc(9,"input",6),p.hc(),p.ic(10,"div",2),p.ic(11,"label",7),p.Oc(12,"Turno"),p.hc(),p.ic(13,"select",8),p.ic(14,"option",9),p.Oc(15,"Seleccione Turno"),p.hc(),p.Mc(16,A,2,2,"option",10),p.hc(),p.hc(),p.ic(17,"div",2),p.ic(18,"label",11),p.Oc(19," \xbfQui\xe9n se comunica? "),p.hc(),p.ic(20,"select",12),p.qc("ngModelChange",(function(e){return c.quienComunica=e})),p.ic(21,"option",9),p.Oc(22,"Seleccione"),p.hc(),p.Mc(23,R,2,2,"option",10),p.hc(),p.hc(),p.Mc(24,Y,13,0,"ng-container",13),p.ic(25,"div",2),p.ic(26,"label",14),p.Oc(27," Origen "),p.hc(),p.ic(28,"select",15),p.ic(29,"option",9),p.Oc(30,"Seleccione"),p.hc(),p.Mc(31,K,2,2,"option",10),p.hc(),p.hc(),p.ic(32,"div",2),p.ic(33,"label",16),p.Oc(34,"Numero o Correo del Usuario"),p.hc(),p.dc(35,"input",17),p.hc(),p.ic(36,"div",2),p.ic(37,"label",18),p.Oc(38," Motivo de consulta "),p.hc(),p.ic(39,"select",19),p.qc("ngModelChange",(function(e){return c.motivoConsulta=e}))("change",(function(){return c.clearMotivoEspecifico()})),p.ic(40,"option",9),p.Oc(41,"Seleccione"),p.hc(),p.Mc(42,X,2,2,"option",10),p.hc(),p.hc(),p.Mc(43,J,7,3,"div",20),p.Mc(44,H,4,0,"div",20),p.ic(45,"div",2),p.ic(46,"label",21),p.Oc(47," Linea Intervenci\xf3n "),p.hc(),p.ic(48,"select",22),p.qc("ngModelChange",(function(e){return c.lineaIntervencion=e})),p.ic(49,"option",9),p.Oc(50,"Seleccione"),p.hc(),p.Mc(51,ee,2,2,"option",10),p.hc(),p.hc(),p.Mc(52,te,19,6,"ng-container",13),p.ic(53,"div",23),p.ic(54,"label",24),p.Oc(55," Narrativa "),p.hc(),p.dc(56,"textarea",25),p.hc(),p.hc(),p.hc(),p.ic(57,"h6",26),p.Oc(58,"Datos del usuario"),p.hc(),p.ic(59,"app-frm-paciente",27),p.qc("setFormGroupPaciente",(function(e){return c.onSetFormGroupPaciente(e)})),p.hc(),p.ic(60,"form",0),p.ic(61,"div",1),p.ic(62,"div",23),p.ic(63,"label",28),p.Oc(64," Observaciones de cierre "),p.hc(),p.dc(65,"textarea",29),p.hc(),p.hc(),p.hc()),2&e&&(p.yc("formGroup",c.formGroupCase),p.Pb(5),p.yc("max",c.maxDate),p.Pb(4),p.yc("min",c.minDateFinal)("max",c.maxDate),p.Pb(4),p.yc("compareWith",c.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",c.turnos),p.Pb(4),p.yc("compareWith",c.compare)("ngModel",c.quienComunica),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",c.quienes_comunican),p.Pb(1),p.yc("ngIf",c.se_comunica_otra_persona),p.Pb(4),p.yc("compareWith",c.compare),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",c.origenes),p.Pb(8),p.yc("compareWith",c.compare)("ngModel",c.motivoConsulta),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",c.motivo_consultas),p.Pb(1),p.yc("ngIf",c.has_motivos_especificos),p.Pb(1),p.yc("ngIf",!c.has_motivos_especificos),p.Pb(4),p.yc("compareWith",c.compare)("ngModel",c.lineaIntervencion),p.Pb(1),p.yc("ngValue",null),p.Pb(2),p.yc("ngForOf",c.linea_intervenciones),p.Pb(1),p.yc("ngIf",c.is_remision),p.Pb(7),p.yc("setPaciente",c.setPaciente)("dataPaciente",c.dataPaciente),p.Pb(1),p.yc("formGroup",c.formGroupCase))},directives:[r.y,r.o,r.h,r.c,r.n,r.g,r.v,r.r,r.x,a.l,a.m,z],styles:[""]}),oe),ue=((ne=function(){function e(c,i,t,n,o){_classCallCheck(this,e),this._casoService=c,this._pacienteService=i,this._toastrService=t,this._activateRoute=n,this._location=o,this.setPaciente=new h.a,this.setCaso=new h.a,this.dataCase={etnicidades:[],lineaIntervenciones:[],motivosConsultas:[],origenes:[],quienComunica:[],radicados:[],relaciones:[],remisiones:[],respuestas:[],tipoPacientes:[],turnos:[],motivosConsultaEspecificos:[]},this.dataPaciente={como_conocio:[],departamentos:[],estado_civiles:[],etnias:[],generos:[],niveles_educacion:[],ocupaciones:[],orientaciones_sexuales:[],sexos:[],tipos_identificacion:[],zonas:[],poblacion_intereses:[]}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._casoService.getOptionsCase().subscribe((function(c){e.dataCase=c})),this._pacienteService.getDataPaciente().subscribe((function(c){e.dataPaciente=c})),this._activateRoute.params.subscribe((function(c){c.id&&e._casoService.getById(c.id).subscribe((function(c){e.setPaciente.next(c.paciente),e.setCaso.next(c)}),(function(e){console.error(e)}))}))}},{key:"hasErrorCase",get:function(){return!!this.formGroupCase&&this.formGroupCase.invalid}},{key:"hasErrorPerson",get:function(){return!!this.formGroupPaciente&&this.formGroupPaciente.invalid}},{key:"hasErrors",get:function(){return this.hasErrorCase||this.hasErrorPerson}},{key:"is_update",get:function(){return this.formGroupCase.get("id").value||!1}},{key:"btnName",get:function(){return this.is_update?"Actualizar":"Crear"}},{key:"setFormGroupCase",value:function(e){this.formGroupCase=e}},{key:"setFormGroupPaciente",value:function(e){this.formGroupPaciente=e}},{key:"resetForms",value:function(){this.formGroupCase&&this.formGroupCase.reset(),this.formGroupPaciente&&(this.formGroupPaciente.reset(),this.setPaciente.next({identificacion:null}))}},{key:"createCase",value:function(){var e=this;this._casoService.createOrUpdateCase(this.formGroupCase.value,this.formGroupPaciente.value).subscribe((function(c){e._toastrService.show("Caso "+(e.is_update?"Actualizado":"Creado"),"\xc9xito",{destroyByClick:!0,preventDuplicates:!0,status:"success",icon:"checkmark",iconPack:"eva"}),c.paciente.identificacion&&(c.paciente.identificacion=""),e.setCaso.next(c.caso),e.setPaciente.next(c.paciente)}),(function(e){console.error(e)}))}},{key:"redirect",value:function(e){window.open(e,"popUpWindow","height=600,width=992,left=10,top=10,,scrollbars=yes,menubar=no")}},{key:"cancelar",value:function(){this._location.back()}}]),e}()).\u0275fac=function(e){return new(e||ne)(p.cc(b),p.cc(v),p.cc(l.G),p.cc(m.a),p.cc(a.i))},ne.\u0275cmp=p.Wb({type:ne,selectors:[["app-actualizar-caso"]],decls:15,vars:6,consts:[[1,"text-center"],[3,"setPaciente","setCaso","dataPaciente","dataCase","setFormGroupCase","setFormGroupPaciente"],[1,"btn","btn-outline-success","mx-2",3,"click"],[1,"btn","btn-info","mx-2","float-right",3,"click"],["id","submit","type","submit",1,"btn","btn-primary","ml-2","float-right",3,"disabled","click"]],template:function(e,c){1&e&&(p.ic(0,"nb-card"),p.ic(1,"nb-card-header"),p.ic(2,"h5",0),p.Oc(3,"Datos del caso"),p.hc(),p.hc(),p.ic(4,"nb-card-body"),p.ic(5,"app-frm-caso",1),p.qc("setFormGroupCase",(function(e){return c.setFormGroupCase(e)}))("setFormGroupPaciente",(function(e){return c.setFormGroupPaciente(e)})),p.hc(),p.hc(),p.ic(6,"nb-card-footer"),p.ic(7,"button",2),p.qc("click",(function(){return c.redirect("https://www.adres.gov.co/BDUA/Consulta-Afiliados-BDUA")})),p.Oc(8," Comprobador de derechos "),p.hc(),p.ic(9,"button",2),p.qc("click",(function(){return c.redirect("https://www.sisben.gov.co/atencion-al-ciudadano/paginas/consulta-del-puntaje.aspx")})),p.Oc(10," Sisben "),p.hc(),p.ic(11,"button",3),p.qc("click",(function(){return c.cancelar()})),p.Oc(12," Cancelar "),p.hc(),p.ic(13,"button",4),p.qc("click",(function(){return c.createCase()})),p.Oc(14),p.hc(),p.hc(),p.hc()),2&e&&(p.Pb(5),p.yc("setPaciente",c.setPaciente)("setCaso",c.setCaso)("dataPaciente",c.dataPaciente)("dataCase",c.dataCase),p.Pb(8),p.yc("disabled",c.hasErrors&&!1),p.Pb(1),p.Qc(" ",c.btnName," "))},directives:[l.h,l.j,l.g,le,l.i],styles:[""]}),ne),fe=[{path:"crear",component:(ae=function(){function e(c,i,t){_classCallCheck(this,e),this._casoService=c,this._pacienteService=i,this._toastrService=t,this.dataCase={etnicidades:[],lineaIntervenciones:[],motivosConsultas:[],origenes:[],quienComunica:[],radicados:[],relaciones:[],remisiones:[],respuestas:[],tipoPacientes:[],turnos:[],motivosConsultaEspecificos:[]},this.dataPaciente={como_conocio:[],departamentos:[],estado_civiles:[],etnias:[],generos:[],niveles_educacion:[],ocupaciones:[],orientaciones_sexuales:[],sexos:[],tipos_identificacion:[],zonas:[],poblacion_intereses:[]}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._casoService.getOptionsCase().subscribe((function(c){e.dataCase=c})),this._pacienteService.getDataPaciente().subscribe((function(c){e.dataPaciente=c}))}},{key:"hasErrorCase",get:function(){return!!this.formGroupCase&&this.formGroupCase.invalid}},{key:"hasErrorPerson",get:function(){return!!this.formGroupPaciente&&this.formGroupPaciente.invalid}},{key:"hasErrors",get:function(){return this.hasErrorCase||this.hasErrorPerson}},{key:"is_update",get:function(){return this.formGroupCase.get("id").value||!1}},{key:"btnName",get:function(){return this.is_update?"Actualizar":"Crear"}},{key:"setFormGroupCase",value:function(e){this.formGroupCase=e}},{key:"setFormGroupPaciente",value:function(e){this.formGroupPaciente=e}},{key:"resetForms",value:function(){this.formGroupCase&&this.formGroupCase.reset(),this.formGroupPaciente&&(this.formGroupPaciente.reset(),this.formGroupPaciente.patchValue({identificacion:null}))}},{key:"createCase",value:function(){var e=this;this._casoService.createOrUpdateCase(this.formGroupCase.value,this.formGroupPaciente.value).subscribe((function(c){e._toastrService.show("Caso "+(e.is_update?"Actualizado":"Creado"),"\xc9xito",{destroyByClick:!0,preventDuplicates:!0,status:"success",icon:"checkmark",iconPack:"eva"}),c.paciente.identificacion||(c.paciente.identificacion=""),e.formGroupCase.patchValue(c.caso),e.formGroupPaciente.patchValue(c.paciente)}),(function(e){console.error(e)}))}},{key:"redirect",value:function(e){window.open(e,"popUpWindow","height=600,width=992,left=10,top=10,,scrollbars=yes,menubar=no")}}]),e}(),ae.\u0275fac=function(e){return new(e||ae)(p.cc(b),p.cc(v),p.cc(l.G))},ae.\u0275cmp=p.Wb({type:ae,selectors:[["app-crear-caso"]],decls:15,vars:4,consts:[[1,"text-center"],[3,"dataPaciente","dataCase","setFormGroupCase","setFormGroupPaciente"],[1,"btn","btn-outline-success","mx-2",3,"click"],[1,"btn","btn-info","mx-2","float-right",3,"click"],["id","submit","type","submit",1,"btn","btn-primary","ml-2","float-right",3,"disabled","click"]],template:function(e,c){1&e&&(p.ic(0,"nb-card"),p.ic(1,"nb-card-header"),p.ic(2,"h5",0),p.Oc(3,"Datos del caso"),p.hc(),p.hc(),p.ic(4,"nb-card-body"),p.ic(5,"app-frm-caso",1),p.qc("setFormGroupCase",(function(e){return c.setFormGroupCase(e)}))("setFormGroupPaciente",(function(e){return c.setFormGroupPaciente(e)})),p.hc(),p.hc(),p.ic(6,"nb-card-footer"),p.ic(7,"button",2),p.qc("click",(function(){return c.redirect("https://www.adres.gov.co/BDUA/Consulta-Afiliados-BDUA")})),p.Oc(8," Comprobador de derechos "),p.hc(),p.ic(9,"button",2),p.qc("click",(function(){return c.redirect("https://www.sisben.gov.co/atencion-al-ciudadano/paginas/consulta-del-puntaje.aspx")})),p.Oc(10," Sisben "),p.hc(),p.ic(11,"button",3),p.qc("click",(function(){return c.resetForms()})),p.Oc(12," Cancelar "),p.hc(),p.ic(13,"button",4),p.qc("click",(function(){return c.createCase()})),p.Oc(14),p.hc(),p.hc(),p.hc()),2&e&&(p.Pb(5),p.yc("dataPaciente",c.dataPaciente)("dataCase",c.dataCase),p.Pb(8),p.yc("disabled",c.hasErrors&&!1),p.Pb(1),p.Qc(" ",c.btnName," "))},directives:[l.h,l.j,l.g,le,l.i],styles:[""]}),ae)},{path:":id",component:ue}],me=((se=function e(){_classCallCheck(this,e)}).\u0275mod=p.ac({type:se}),se.\u0275inj=p.Zb({factory:function(e){return new(e||se)},imports:[[m.g.forChild(fe)],m.g]}),se),he=((re=function e(){_classCallCheck(this,e)}).\u0275mod=p.ac({type:re}),re.\u0275inj=p.Zb({factory:function(e){return new(e||re)},imports:[[f.a,a.c,me,r.t,l.x,l.f,l.r,l.c,l.I,l.k,l.t,l.m,l.d,s.a,u.c]]}),re)}}]);