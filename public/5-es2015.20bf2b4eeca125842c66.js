(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7O4u":function(e,c,i){"use strict";i.r(c),i.d(c,"GestionCasoModule",(function(){return ie}));var t=i("ofXK"),o=i("3Pt+"),n=i("tR1z"),r=i("aceb"),a=i("RS3s"),s=i("zon2"),l=i("tyNb"),u=i("XNiG"),h=i("fXoL"),m=i("230K");let p=(()=>{class e{constructor(e){this._coreService=e}getOptionsCase(){return this._coreService.get("/init-data-case")}getById(e){return this._coreService.get("/cases/"+e)}createOrUpdateCase(e,c){return this._coreService.post("/cases",{caso:e,paciente:c})}}return e.\u0275fac=function(c){return new(c||e)(h.mc(m.a))},e.\u0275prov=h.Yb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),d=(()=>{class e{constructor(e){this._coreService=e}getDataPaciente(){return this._coreService.get("/init-data-paciente")}searchPaciente(e){return this._coreService.get("/search-paciente?q="+e)}getPacienteById(e){return this._coreService.get("/paciente/"+e)}}return e.\u0275fac=function(c){return new(c||e)(h.mc(m.a))},e.\u0275prov=h.Yb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),f=(()=>{class e{constructor(e){this._coreService=e}municipioByDepartamento(e,c){return this._coreService.get(`/municipios/${e}?query=${c}`)}veredaByMunicipio(e,c){return this._coreService.get(`/veredas/${e}?query=${c}`)}}return e.\u0275fac=function(c){return new(c||e)(h.mc(m.a))},e.\u0275prov=h.Yb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function b(e,c){if(1&e){const e=h.jc();h.ic(0,"tr"),h.ic(1,"td"),h.Oc(2),h.hc(),h.ic(3,"td"),h.ic(4,"p",4),h.Oc(5),h.hc(),h.hc(),h.ic(6,"td"),h.ic(7,"div",4),h.ic(8,"button",5),h.qc("click",(function(){h.Gc(e);const i=c.$implicit;return h.sc().seleccionar(i)})),h.Oc(9,"Seleccionar"),h.hc(),h.hc(),h.hc(),h.hc()}if(2&e){const e=c.$implicit;h.Pb(2),h.Pc(e.identificacion?e.identificacion:"N/A"),h.Pb(3),h.Rc(" ",e.nombre," ",e.apellido," ")}}let g=(()=>{class e{constructor(e){this._pacienteService=e,this.timeout=null,this.pacientes=[],this.selectPaciente=new h.q}ngOnInit(){}searchPaciente(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.search(e.target.value)},400)}search(e){this._pacienteService.searchPaciente(e.trim()).subscribe(e=>{this.pacientes=e})}seleccionar(e){this._pacienteService.getPacienteById(e.id).subscribe(e=>{this.selectPaciente.emit(e)})}}return e.\u0275fac=function(c){return new(c||e)(h.cc(d))},e.\u0275cmp=h.Wb({type:e,selectors:[["app-list-users"]],outputs:{selectPaciente:"selectPaciente"},decls:13,vars:1,consts:[[1,"py-2"],["type","search","placeholder","ingrese b\xfasqueda por nombre, apellido o identificaci\xf3n",1,"form-control","mb-2",3,"keyup"],[1,"table","table-bordered","text-center"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn","btn-sm","btn-success",3,"click"]],template:function(e,c){1&e&&(h.ic(0,"div",0),h.ic(1,"input",1),h.qc("keyup",(function(e){return c.searchPaciente(e)})),h.hc(),h.ic(2,"table",2),h.ic(3,"thead"),h.ic(4,"tr"),h.ic(5,"th"),h.Oc(6,"Identificaci\xf3n"),h.hc(),h.ic(7,"th"),h.Oc(8,"Nombre completo"),h.hc(),h.ic(9,"th"),h.Oc(10,"Opci\xf3n"),h.hc(),h.hc(),h.hc(),h.ic(11,"tbody"),h.Mc(12,b,10,3,"tr",3),h.hc(),h.hc(),h.hc()),2&e&&(h.Pb(12),h.yc("ngForOf",c.pacientes))},directives:[t.l],styles:[""]}),e})();function v(e,c){if(1&e){const e=h.jc();h.ic(0,"span",6),h.qc("click",(function(){return h.Gc(e),h.sc().delete()})),h.ic(1,"i",7),h.qc("click",(function(){return h.Gc(e),h.sc().delete()})),h.hc(),h.hc()}}const P=function(e){return{selected:e}};function _(e,c){if(1&e){const e=h.jc();h.ic(0,"li",8),h.qc("click",(function(){h.Gc(e);const i=c.index;return h.sc().selectItem(i)})),h.ic(1,"a",9),h.qc("click",(function(){h.Gc(e);const i=c.index;return h.sc().selectItem(i)})),h.Oc(2),h.hc(),h.hc()}if(2&e){const e=c.$implicit,i=c.index,t=h.sc();h.yc("ngClass",h.Ac(2,P,i==t.selectIndex)),h.Pb(2),h.Pc(t.getTitle(e))}}let C=(()=>{class e{constructor(){this.listFiltered=null,this.debounce=!1,this.list=[],this.getTitle=e=>e,this.filter=e=>new Promise((c,i)=>{if(null==e?void 0:e.trim()){const i=RegExp(`^.*${e.trim()}.*$`,"i");c(this.list.filter(e=>i.test(this.getTitle(e))))}else c(this.list)}),this.change=new h.q,this.search="",this.selectIndex=0,this.showList=!1,this.onChange=e=>{}}writeValue(e){if(this.listFiltered=this.list,null==e)this.delete();else{const c=this.listFiltered.findIndex(c=>this.getTitle(c).toLocaleLowerCase()===this.getTitle(e).toLocaleLowerCase());c<0?(this.listFiltered||(this.listFiltered=[]),this.listFiltered.unshift(e),this.selectItem(0)):this.selectItem(c)}}registerOnChange(e){this.onChange=e}registerOnTouched(e){}setDisabledState(e){}ngOnInit(){}get listItems(){return null===this.listFiltered?this.list:this.listFiltered}select(e=!0){e?setTimeout(()=>{this.showList=!1},200):this.showList=!1;const c=this.listItems[this.selectIndex];c&&(this.search=this.getTitle(c),this.change.emit(c),this.onChange(c))}pressKeyUp(e){switch(e.key){case"Enter":e.preventDefault(),this.select(!1);break;case"ArrowDown":e.preventDefault(),this.selectIndex<this.listItems.length-1&&this.selectIndex++;break;case"ArrowUp":e.preventDefault(),this.selectIndex>0&&this.selectIndex--;break;case"Tab":break;default:this.debounce?(clearTimeout(this.time),this.time=setTimeout(()=>{this.filter(this.search).then(e=>{this.showList=!0,this.listFiltered=e})},400)):this.filter(this.search).then(e=>{this.showList=!0,this.listFiltered=e}),this.selectIndex=0}}selectItem(e){this.selectIndex=e,this.select()}get showDelete(){return!!this.search&&this.search.length>0}delete(){this.change.emit(null),this.search="",this.selectIndex=0,this.listFiltered=this.list,this.onChange(null)}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=h.Wb({type:e,selectors:[["app-select-filter"]],inputs:{debounce:"debounce",list:"list",getTitle:"getTitle",filter:"filter"},outputs:{change:"change"},features:[h.Ob([{provide:o.l,multi:!0,useExisting:Object(h.gb)(()=>e)}])],decls:7,vars:4,consts:[[1,"input-group","flex-nowrap"],["type","text","placeholder","Search for names..",1,"form-control",3,"ngModel","blur","focus","ngModelChange","keyup"],["class","btn btn-sm btn-outline-danger clear-select",3,"click",4,"ngIf"],[1,"cont","d-flex"],[3,"hidden"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-danger","clear-select",3,"click"],[1,"fas","fa-times",3,"click"],[3,"ngClass","click"],[3,"click"]],template:function(e,c){1&e&&(h.ic(0,"div"),h.ic(1,"div",0),h.ic(2,"input",1),h.qc("blur",(function(){return c.select()}))("focus",(function(){return c.showList=!0}))("ngModelChange",(function(e){return c.search=e}))("keyup",(function(e){return c.pressKeyUp(e)})),h.hc(),h.Mc(3,v,2,0,"span",2),h.hc(),h.dc(4,"div",3),h.ic(5,"ul",4),h.Mc(6,_,3,4,"li",5),h.hc(),h.hc()),2&e&&(h.Pb(2),h.yc("ngModel",c.search),h.Pb(1),h.yc("ngIf",c.showDelete),h.Pb(2),h.yc("hidden",!c.showList),h.Pb(1),h.yc("ngForOf",c.listItems))},directives:[o.c,o.n,o.q,t.m,t.l,t.k],styles:["div[_ngcontent-%COMP%]{position:relative}ul[_ngcontent-%COMP%]{list-style:none;padding:0;max-height:14.5rem;overflow-y:auto;position:absolute;z-index:100;background:#fff;box-shadow:0 0 4px grey;width:100%}li[_ngcontent-%COMP%]{padding:.5rem 1rem;margin:0}.selected[_ngcontent-%COMP%]{background-color:#598bff;color:#f5f5f5}.close[_ngcontent-%COMP%]{cursor:pointer}.clear-select[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),e})();function y(e,c){if(1&e){const e=h.jc();h.gc(0),h.ic(1,"button",8),h.qc("click",(function(){return h.Gc(e),h.sc().cancelarBusquedaUsuario()})),h.Oc(2,"Cancelar Busqueda"),h.hc(),h.fc()}}function O(e,c){if(1&e){const e=h.jc();h.ic(0,"button",9),h.qc("click",(function(){return h.Gc(e),h.sc().buscarUsuario()})),h.Oc(1,"Buscar Usuario"),h.hc()}}function G(e,c){if(1&e){const e=h.jc();h.ic(0,"div",10),h.ic(1,"app-list-users",11),h.qc("selectPaciente",(function(c){return h.Gc(e),h.sc().selectPaciente(c)})),h.hc(),h.hc()}}function F(e,c){if(1&e&&(h.ic(0,"option",54),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function x(e,c){if(1&e&&(h.ic(0,"option",54),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function w(e,c){if(1&e&&(h.ic(0,"option",54),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function I(e,c){if(1&e&&(h.ic(0,"option",54),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function M(e,c){if(1&e&&(h.ic(0,"option",54),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function S(e,c){if(1&e&&(h.ic(0,"option",54),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function V(e,c){if(1&e&&(h.ic(0,"option",54),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function k(e,c){if(1&e&&(h.ic(0,"option",54),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function q(e,c){if(1&e&&(h.ic(0,"option",54),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function N(e,c){if(1&e&&(h.ic(0,"option",54),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function D(e,c){if(1&e&&(h.ic(0,"option",54),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function W(e,c){if(1&e&&(h.ic(0,"div",12),h.ic(1,"label",55),h.Oc(2," Municipio "),h.hc(),h.dc(3,"app-select-filter",56),h.hc()),2&e){const e=h.sc(2);h.Pb(3),h.yc("list",e.municipios)("getTitle",e.getTitleMunicipio)("filter",e.callbackFilterMunicipio)("debounce",!0)}}function T(e,c){if(1&e&&(h.ic(0,"div",12),h.ic(1,"label",57),h.Oc(2," Vereda "),h.hc(),h.dc(3,"app-select-filter",58),h.hc()),2&e){const e=h.sc(2);h.Pb(3),h.yc("list",e.veredas)("getTitle",e.getTitleVereda)("filter",e.callbackFilterVereda)("debounce",!0)}}function $(e,c){if(1&e&&(h.gc(0),h.ic(1,"div",12),h.ic(2,"label",13),h.Oc(3," Tipo Identificaci\xf3n "),h.hc(),h.ic(4,"select",14),h.ic(5,"option",15),h.Oc(6,"Seleccione"),h.hc(),h.Mc(7,F,2,2,"option",16),h.hc(),h.hc(),h.ic(8,"div",12),h.ic(9,"label",17),h.Oc(10," Identificaci\xf3n "),h.hc(),h.dc(11,"input",18),h.hc(),h.ic(12,"div",12),h.ic(13,"label",19),h.Oc(14," Nombres "),h.hc(),h.dc(15,"input",20),h.hc(),h.ic(16,"div",12),h.ic(17,"label",21),h.Oc(18," Apellidos "),h.hc(),h.dc(19,"input",22),h.hc(),h.ic(20,"div",12),h.ic(21,"label",23),h.Oc(22," Edad "),h.hc(),h.dc(23,"input",24),h.hc(),h.ic(24,"div",12),h.ic(25,"label",25),h.Oc(26," Fecha Nacimiento "),h.hc(),h.dc(27,"input",26),h.hc(),h.ic(28,"div",12),h.ic(29,"label",27),h.Oc(30," Direcci\xf3n "),h.hc(),h.dc(31,"input",28),h.hc(),h.ic(32,"div",12),h.ic(33,"label",29),h.Oc(34," Orientaci\xf3n Sexual "),h.hc(),h.ic(35,"select",30),h.ic(36,"option",15),h.Oc(37,"Seleccione"),h.hc(),h.Mc(38,x,2,2,"option",16),h.hc(),h.hc(),h.ic(39,"div",12),h.ic(40,"label",31),h.Oc(41," Genero "),h.hc(),h.ic(42,"select",32),h.ic(43,"option",15),h.Oc(44,"Seleccione"),h.hc(),h.Mc(45,w,2,2,"option",16),h.hc(),h.hc(),h.ic(46,"div",12),h.ic(47,"label",33),h.Oc(48," Sexo "),h.hc(),h.ic(49,"select",34),h.ic(50,"option",15),h.Oc(51,"Seleccione"),h.hc(),h.Mc(52,I,2,2,"option",16),h.hc(),h.hc(),h.ic(53,"div",12),h.ic(54,"label",35),h.Oc(55," Etnia "),h.hc(),h.ic(56,"select",36),h.ic(57,"option",15),h.Oc(58,"Seleccione"),h.hc(),h.Mc(59,M,2,2,"option",16),h.hc(),h.hc(),h.ic(60,"div",12),h.ic(61,"label",37),h.Oc(62," Estado Civil "),h.hc(),h.ic(63,"select",38),h.ic(64,"option",15),h.Oc(65,"Seleccione"),h.hc(),h.Mc(66,S,2,2,"option",16),h.hc(),h.hc(),h.ic(67,"div",12),h.ic(68,"label",39),h.Oc(69," Ocupaci\xf3n "),h.hc(),h.ic(70,"select",40),h.ic(71,"option",15),h.Oc(72,"Seleccione"),h.hc(),h.Mc(73,V,2,2,"option",16),h.hc(),h.hc(),h.ic(74,"div",12),h.ic(75,"label",41),h.Oc(76," Nivel Educaci\xf3n "),h.hc(),h.ic(77,"select",42),h.ic(78,"option",15),h.Oc(79,"Seleccione"),h.hc(),h.Mc(80,k,2,2,"option",16),h.hc(),h.hc(),h.ic(81,"div",12),h.ic(82,"label",43),h.Oc(83," Zonas "),h.hc(),h.ic(84,"select",44),h.ic(85,"option",15),h.Oc(86,"Seleccione"),h.hc(),h.Mc(87,q,2,2,"option",16),h.hc(),h.hc(),h.ic(88,"div",12),h.ic(89,"label",45),h.Oc(90," \xbfComo conoci\xf3? "),h.hc(),h.ic(91,"select",46),h.ic(92,"option",15),h.Oc(93,"Seleccione"),h.hc(),h.Mc(94,N,2,2,"option",16),h.hc(),h.hc(),h.ic(95,"div",12),h.ic(96,"label",47),h.Oc(97," Como conoci\xf3 descripci\xf3n adicional "),h.hc(),h.dc(98,"input",48),h.hc(),h.ic(99,"div",12),h.ic(100,"label",49),h.Oc(101," Poblaci\xf3n Inter\xe9s "),h.hc(),h.ic(102,"select",50),h.ic(103,"option",15),h.Oc(104,"Seleccione"),h.hc(),h.Mc(105,D,2,2,"option",16),h.hc(),h.hc(),h.ic(106,"div",12),h.ic(107,"label",51),h.Oc(108," Departamento "),h.hc(),h.dc(109,"app-select-filter",52),h.hc(),h.Mc(110,W,4,4,"div",53),h.Mc(111,T,4,4,"div",53),h.fc()),2&e){const e=h.sc();h.Pb(4),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.tipos_identificacion),h.Pb(20),h.yc("max",e.currentDay),h.Pb(8),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.orientaciones_sexuales),h.Pb(4),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.generos),h.Pb(4),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.sexos),h.Pb(4),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.etnias),h.Pb(4),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.estado_civiles),h.Pb(4),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.ocupaciones),h.Pb(4),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.niveles_educacion),h.Pb(4),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.zonas),h.Pb(4),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.como_conocio),h.Pb(8),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.poblacion_intereses),h.Pb(4),h.yc("list",e.departamentos)("getTitle",e.getTitleDepartamento),h.Pb(1),h.yc("ngIf",e.hasDepartamento),h.Pb(1),h.yc("ngIf",e.is_rural&&e.hasMunicipio)}}let E=(()=>{class e{constructor(e,c){this._formBuilder=e,this._locationService=c,this.buscar=!1,this.municipios=[],this.veredas=[],this.paciente={identificacion:null},this.setFormGroupPaciente=new h.q,this.setPaciente=null}ngOnInit(){this.currentDay=this.getDateInput(new Date),this.callbackFilterMunicipio=this.filterMunicipio.bind(this),this.callbackFilterVereda=this.filterVereda.bind(this),this.formGroupPaciente=this._formBuilder.group({id:[null],identificacion:[null],nombre:[null],apellido:[null],sisben:[null],edad:[null],direccion:[null],fecha_nacimiento:[null],como_conocio:[null],como_conocio_descripcion:[null],orientacion_sexual:[null],genero:[null],sexo:[null],etnia:[null],estado_civil:[null],ocupacion:[null],nivel_educacion:[null],zona:[null],tipo_identificacion:[null],poblacion_interes:[null],municipio:[null],departamento:[null],vereda:[null]}),this.setFormGroupPaciente.emit(this.formGroupPaciente),this.setPaciente&&(this.subscriber=this.setPaciente.subscribe(e=>{e.id&&!e.identificacion&&(e.identificacion=""),this.formGroupPaciente.patchValue(e)}))}ngOnDestroy(){this.subscriber&&this.subscriber.unsubscribe()}get hasIdentification(){return null!==this.formGroupPaciente.get("identificacion").value}get orientaciones_sexuales(){return this.dataPaciente.orientaciones_sexuales}get generos(){return this.dataPaciente.generos}get sexos(){return this.dataPaciente.sexos}get etnias(){return this.dataPaciente.etnias}get estado_civiles(){return this.dataPaciente.estado_civiles}get ocupaciones(){return this.dataPaciente.ocupaciones}get niveles_educacion(){return this.dataPaciente.niveles_educacion}get zonas(){return this.dataPaciente.zonas}get tipos_identificacion(){return this.dataPaciente.tipos_identificacion}get poblacion_intereses(){return this.dataPaciente.poblacion_intereses}get departamentos(){return this.dataPaciente.departamentos}get como_conocio(){return this.dataPaciente.como_conocio}get is_rural(){const e=this.formGroupPaciente.get("zona").value;return!(!e||!e.name)&&e.name.toLocaleLowerCase().includes("rural")}get hasDepartamento(){const e=this.formGroupPaciente.get("departamento").value;return!(!e||!e.name)}get hasMunicipio(){const e=this.formGroupPaciente.get("municipio").value;return!(!e||!e.name)}buscarUsuario(){this.formGroupPaciente.patchValue({identificacion:null}),this.buscar=!0}compare(e,c){return e&&c?e.id===c.id:e===c}cancelarBusquedaUsuario(){this.formGroupPaciente.patchValue({identificacion:null}),this.buscar=!1}nuevoUsuario(){this.cancelarBusquedaUsuario(),this.formGroupPaciente.reset(),Object.assign(this.paciente,this.formGroupPaciente.value),this.formGroupPaciente.patchValue({identificacion:""})}selectPaciente(e){Object.assign(this.paciente,e),this.formGroupPaciente.patchValue(e),e.identificacion||this.formGroupPaciente.patchValue({identificacion:""}),this.buscar=!1}getTitleDepartamento(e){return e.name}getTitleMunicipio(e){return e.name}getTitleVereda(e){return e.name}get departamento(){const e=this.formGroupPaciente.get("departamento").value;return e&&e.id?e:null}get departamentoId(){return this.departamento?this.departamento.id:0}get municipio(){const e=this.formGroupPaciente.get("municipio").value;return e&&e.id?e:null}get municipioId(){return this.municipio?this.municipio.id:0}filterMunicipio(e){return new Promise((c,i)=>{(null==e?void 0:e.trim())?this._locationService.municipioByDepartamento(this.departamentoId,e).subscribe(e=>{c(e)},e=>{i(e),console.error(e)}):c(this.municipios)})}filterVereda(e){return new Promise((c,i)=>{(null==e?void 0:e.trim())?this._locationService.veredaByMunicipio(this.municipioId,e).subscribe(e=>{c(e)},e=>{i(e),console.error(e)}):c(this.municipios)})}prevent(e){e.preventDefault()}getFullNumber(e){return e<10?"0"+e:e}getDateInput(e){return`${e.getFullYear()}-${this.getFullNumber(e.getMonth()+1)}-${this.getFullNumber(e.getDate())}`}}return e.\u0275fac=function(c){return new(c||e)(h.cc(o.d),h.cc(f))},e.\u0275cmp=h.Wb({type:e,selectors:[["app-frm-paciente"]],inputs:{dataPaciente:"dataPaciente",setPaciente:"setPaciente"},outputs:{setFormGroupPaciente:"setFormGroupPaciente"},decls:10,vars:5,consts:[[1,"col-12","text-center","pb-4"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"btn","btn-success","ml-2",3,"click"],["class","col-12",4,"ngIf"],[3,"formGroup","submit"],[1,"row"],[4,"ngIf"],[1,"btn","btn-danger","mr-2",3,"click"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"col-12"],[3,"selectPaciente"],[1,"col-4","mb-3"],["for","tipo_identificacion",1,"form-label"],["formControlName","tipo_identificacion",1,"form-control",3,"compareWith"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","identificacion",1,"form-label"],["formControlName","identificacion","type","text","id","identificacion",1,"form-control"],["for","nombre",1,"form-label"],["formControlName","nombre","type","text","id","nombre",1,"form-control"],["for","apellido",1,"form-label"],["formControlName","apellido","type","text","id","apellido",1,"form-control"],["for","edad",1,"form-label"],["formControlName","edad","type","number","min","1","id","edad",1,"form-control"],["for","fecha_nacimiento",1,"form-label"],["formControlName","fecha_nacimiento","type","date","id","fecha_nacimiento",1,"form-control",3,"max"],["for","direccion",1,"form-label"],["formControlName","direccion","type","text","id","direccion",1,"form-control"],["for","orientacion_sexual",1,"form-label"],["formControlName","orientacion_sexual",1,"form-control",3,"compareWith"],["for","genero",1,"form-label"],["formControlName","genero",1,"form-control",3,"compareWith"],["for","sexo",1,"form-label"],["formControlName","sexo",1,"form-control",3,"compareWith"],["for","etnia",1,"form-label"],["formControlName","etnia",1,"form-control",3,"compareWith"],["for","estado_civil",1,"form-label"],["formControlName","estado_civil",1,"form-control",3,"compareWith"],["for","ocupacion",1,"form-label"],["formControlName","ocupacion",1,"form-control",3,"compareWith"],["for","nivel_educacion",1,"form-label"],["formControlName","nivel_educacion",1,"form-control",3,"compareWith"],["for","zona",1,"form-label"],["formControlName","zona",1,"form-control",3,"compareWith"],["for","como_conocio",1,"form-label"],["formControlName","como_conocio",1,"form-control",3,"compareWith"],["for","como_conocio_descripcion",1,"form-label"],["formControlName","como_conocio_descripcion","type","text","id","como_conocio_descripcion",1,"form-control"],["for","poblacion_interes",1,"form-label"],["formControlName","poblacion_interes",1,"form-control",3,"compareWith"],["for","departamento",1,"form-label"],["formControlName","departamento",3,"list","getTitle"],["class","col-4 mb-3",4,"ngIf"],[3,"ngValue"],["for","municipio",1,"form-label"],["formControlName","municipio",3,"list","getTitle","filter","debounce"],["for","vereda",1,"form-label"],["formControlName","vereda",3,"list","getTitle","filter","debounce"]],template:function(e,c){if(1&e&&(h.ic(0,"div",0),h.Mc(1,y,3,0,"ng-container",1),h.Mc(2,O,2,0,"ng-template",null,2,h.Nc),h.ic(4,"button",3),h.qc("click",(function(){return c.nuevoUsuario()})),h.Oc(5,"Nuevo Usuario"),h.hc(),h.hc(),h.Mc(6,G,2,0,"div",4),h.ic(7,"form",5),h.qc("submit",(function(e){return c.prevent(e)})),h.ic(8,"div",6),h.Mc(9,$,112,38,"ng-container",7),h.hc(),h.hc()),2&e){const e=h.Ec(3);h.Pb(1),h.yc("ngIf",c.buscar)("ngIfElse",e),h.Pb(5),h.yc("ngIf",c.buscar),h.Pb(1),h.yc("formGroup",c.formGroupPaciente),h.Pb(2),h.yc("ngIf",c.hasIdentification&&!c.buscar)}},directives:[t.m,o.y,o.o,o.h,g,o.v,o.n,o.g,o.r,o.x,t.l,o.c,o.s,C],styles:[""]}),e})();function B(e,c){if(1&e&&(h.ic(0,"option",30),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function Q(e,c){if(1&e&&(h.ic(0,"option",30),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function U(e,c){1&e&&(h.gc(0),h.ic(1,"div",2),h.ic(2,"label",31),h.Oc(3," Nombre de quien llama "),h.hc(),h.dc(4,"input",32),h.hc(),h.ic(5,"div",2),h.ic(6,"label",33),h.Oc(7," Documento de quien llama "),h.hc(),h.dc(8,"input",34),h.hc(),h.ic(9,"div",2),h.ic(10,"label",35),h.Oc(11," Relaci\xf3n con el usuario "),h.hc(),h.dc(12,"input",36),h.hc(),h.fc())}function L(e,c){if(1&e&&(h.ic(0,"option",30),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function z(e,c){if(1&e&&(h.ic(0,"option",30),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function j(e,c){if(1&e&&(h.ic(0,"option",30),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function A(e,c){if(1&e&&(h.ic(0,"div",2),h.ic(1,"label",37),h.Oc(2," Motivo de consulta especifico "),h.hc(),h.ic(3,"select",38),h.ic(4,"option",9),h.Oc(5,"Seleccione"),h.hc(),h.Mc(6,j,2,2,"option",10),h.hc(),h.hc()),2&e){const e=h.sc();h.Pb(3),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.motivo_consulta_especificos)}}function R(e,c){1&e&&(h.ic(0,"div",2),h.ic(1,"label",39),h.Oc(2," \xbfCual Motivo? "),h.hc(),h.dc(3,"input",40),h.hc())}function Y(e,c){if(1&e&&(h.ic(0,"option",30),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function K(e,c){if(1&e&&(h.ic(0,"option",30),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function X(e,c){if(1&e&&(h.ic(0,"option",30),h.Oc(1),h.hc()),2&e){const e=c.$implicit;h.yc("ngValue",e),h.Pb(1),h.Qc(" ",e.name," ")}}function Z(e,c){if(1&e&&(h.gc(0),h.ic(1,"div",2),h.ic(2,"label",41),h.Oc(3," \xbfCu\xe1l entidad? "),h.hc(),h.ic(4,"select",42),h.ic(5,"option",9),h.Oc(6,"Seleccione"),h.hc(),h.Mc(7,K,2,2,"option",10),h.hc(),h.hc(),h.ic(8,"div",2),h.ic(9,"label",43),h.Oc(10," Respuesta efectiva "),h.hc(),h.ic(11,"select",44),h.ic(12,"option",9),h.Oc(13,"Seleccione"),h.hc(),h.Mc(14,X,2,2,"option",10),h.hc(),h.hc(),h.ic(15,"div",2),h.ic(16,"label",45),h.Oc(17," N\xfamero de radicado "),h.hc(),h.dc(18,"input",46),h.hc(),h.fc()),2&e){const e=h.sc();h.Pb(4),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.remisiones),h.Pb(4),h.yc("compareWith",e.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",e.respuestas)}}let J=(()=>{class e{constructor(e){this._formBuilder=e,this.setCaso=null,this.setPaciente=null,this.setFormGroupCase=new h.q,this.setFormGroupPaciente=new h.q,this.motivoConsulta=null,this.quienComunica=null,this.lineaIntervencion=null}ngOnInit(){this.createFrom(),this.setCaso&&(this.subscriber=this.setCaso.subscribe(e=>{this.formGroupCase.patchValue(e),this.formGroupCase.patchValue({fecha_inicio:this.getDateTimeInput(new Date(e.fecha_inicio)),fecha_fin:this.getDateTimeInput(new Date(e.fecha_fin))})})),this.updateMaxDate(),this.interval=setInterval(()=>{this.updateMaxDate()},3e4)}updateMaxDate(){this.maxDate=this.getDateTimeInput(new Date)}get minDateFinal(){return this.formGroupCase.get("fecha_inicio").value||""}ngOnDestroy(){this.subscriber&&this.subscriber.unsubscribe(),clearInterval(this.interval)}createFrom(){this.formGroupCase=this._formBuilder.group({id:[null],observaciones:[null,[o.w.required]],narrativa:[null,[o.w.required]],fuente:[null,[o.w.required]],fecha_inicio:[null,[o.w.required]],fecha_fin:[null,[o.w.required]],linea_intervencion:[null,[o.w.required]],origen:[null,[o.w.required]],nombre_llama:[null],documento_llama:[null],descripcion_motivo:[null],descripcion_relacion:[null],descripcion_radicado:[null],paciente:[null],motivo_consulta:[null],motivo_consulta_especifico:[null],quien_comunica:[null],turno:[null],etnicidad:[null],relacion:[null],remision:[null],respuesta:[null],radicado:[null]}),this.setFormGroupCase.emit(this.formGroupCase)}get paciente(){return this.formGroupCase.get("paciente")}get turnos(){return this.dataCase.turnos}get quienes_comunican(){return this.dataCase.quienComunica}get origenes(){return this.dataCase.origenes}get motivo_consultas(){return this.dataCase.motivosConsultas}get motivo_consulta_especificos(){return this.motivoConsulta&&this.motivoConsulta.id?this.dataCase.motivosConsultaEspecificos.filter(e=>e.motivo_consulta_id==this.motivoConsulta.id):[]}get has_motivos_especificos(){return this.motivo_consulta_especificos.length>0}get linea_intervenciones(){return this.dataCase.lineaIntervenciones}get se_comunica_otra_persona(){const e=this.formGroupCase.get("quien_comunica").value;return!!e&&e.name.toLocaleLowerCase().includes("otra")}get is_remision(){const e=this.formGroupCase.get("linea_intervencion").value;return!!e&&e.name.toLocaleLowerCase().includes("remisi\xf3n")}get remisiones(){return this.dataCase.remisiones}get respuestas(){return this.dataCase.respuestas}clearMotivoEspecifico(){this.formGroupCase.get("motivo_consulta_especifico").patchValue(null)}compare(e,c){return e&&c?e.id===c.id:e===c}onSetFormGroupPaciente(e){this.setFormGroupPaciente.emit(e)}getFullNumber(e){return e<10?"0"+e:e}getDateInput(e){return`${e.getFullYear()}-${this.getFullNumber(e.getMonth()+1)}-${this.getFullNumber(e.getDate())}`}getDateTimeInput(e){const c=e.toTimeString().slice(0,5);return`${this.getDateInput(e)}T${c}`}}return e.\u0275fac=function(c){return new(c||e)(h.cc(o.d))},e.\u0275cmp=h.Wb({type:e,selectors:[["app-frm-caso"]],inputs:{dataCase:"dataCase",dataPaciente:"dataPaciente",setCaso:"setCaso",setPaciente:"setPaciente"},outputs:{setFormGroupCase:"setFormGroupCase",setFormGroupPaciente:"setFormGroupPaciente"},decls:66,vars:29,consts:[[3,"formGroup"],[1,"row"],[1,"col-4","mb-3"],["for","fechaInicial",1,"form-label"],["formControlName","fecha_inicio","type","datetime-local","id","fechaInicial",1,"form-control",3,"max"],["for","fechaFinal",1,"form-label"],["formControlName","fecha_fin","type","datetime-local","id","fechaFinal",1,"form-control",3,"min","max"],["for","turno",1,"form-label"],["formControlName","turno","id","turno",1,"form-control",3,"compareWith"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","quienSeComunica",1,"form-label"],["formControlName","quien_comunica","id","quienSeComunica",1,"form-control",3,"compareWith","ngModel","ngModelChange"],[4,"ngIf"],["for","origen",1,"form-label"],["formControlName","origen","id","origen",1,"form-control",3,"compareWith"],["for","fuente",1,"form-label"],["type","text","id","fuente","formControlName","fuente",1,"form-control"],["for","motivo_consulta",1,"form-label"],["formControlName","motivo_consulta","id","motivo_consulta",1,"form-control",3,"compareWith","ngModel","ngModelChange","change"],["class","col-4 mb-3",4,"ngIf"],["for","linea_intervencion",1,"form-label"],["formControlName","linea_intervencion","id","linea_intervencion",1,"form-control",3,"compareWith","ngModel","ngModelChange"],[1,"col-12","mb-3"],["for","narrativa",1,"form-label"],["formControlName","narrativa","id","narrativa","cols","30","rows","8",1,"form-control"],[1,"text-center"],[3,"setPaciente","dataPaciente","setFormGroupPaciente"],["for","observaciones",1,"form-label"],["formControlName","observaciones","id","observaciones","cols","30","rows","8",1,"form-control"],[3,"ngValue"],["for","nombre_llama",1,"form-label"],["formControlName","nombre_llama","id","nombre_llama","type","text",1,"form-control"],["for","documento_llama",1,"form-label"],["formControlName","documento_llama","id","documento_llama","type","text",1,"form-control"],["for","descripcion_relacion",1,"form-label"],["formControlName","descripcion_relacion","id","descripcion_relacion","type","text",1,"form-control"],["for","motivo_consulta_especifico",1,"form-label"],["formControlName","motivo_consulta_especifico","id","motivo_consulta_especifico",1,"form-control",3,"compareWith"],["for","descripcion_motivo",1,"form-label"],["type","text","id","descripcion_motivo","formControlName","descripcion_motivo",1,"form-control"],["for","remision",1,"form-label"],["formControlName","remision","id","remision",1,"form-control",3,"compareWith"],["for","respuesta",1,"form-label"],["formControlName","respuesta","id","respuesta",1,"form-control",3,"compareWith"],["for","descripcion_radicado",1,"form-label"],["type","text","id","descripcion_radicado","formControlName","descripcion_radicado",1,"form-control"]],template:function(e,c){1&e&&(h.ic(0,"form",0),h.ic(1,"div",1),h.ic(2,"div",2),h.ic(3,"label",3),h.Oc(4,"Fecha Inicial"),h.hc(),h.dc(5,"input",4),h.hc(),h.ic(6,"div",2),h.ic(7,"label",5),h.Oc(8,"Fecha Final"),h.hc(),h.dc(9,"input",6),h.hc(),h.ic(10,"div",2),h.ic(11,"label",7),h.Oc(12,"Turno"),h.hc(),h.ic(13,"select",8),h.ic(14,"option",9),h.Oc(15,"Seleccione Turno"),h.hc(),h.Mc(16,B,2,2,"option",10),h.hc(),h.hc(),h.ic(17,"div",2),h.ic(18,"label",11),h.Oc(19," \xbfQui\xe9n se comunica? "),h.hc(),h.ic(20,"select",12),h.qc("ngModelChange",(function(e){return c.quienComunica=e})),h.ic(21,"option",9),h.Oc(22,"Seleccione"),h.hc(),h.Mc(23,Q,2,2,"option",10),h.hc(),h.hc(),h.Mc(24,U,13,0,"ng-container",13),h.ic(25,"div",2),h.ic(26,"label",14),h.Oc(27," Origen "),h.hc(),h.ic(28,"select",15),h.ic(29,"option",9),h.Oc(30,"Seleccione"),h.hc(),h.Mc(31,L,2,2,"option",10),h.hc(),h.hc(),h.ic(32,"div",2),h.ic(33,"label",16),h.Oc(34,"Numero o Correo del Usuario"),h.hc(),h.dc(35,"input",17),h.hc(),h.ic(36,"div",2),h.ic(37,"label",18),h.Oc(38," Motivo de consulta "),h.hc(),h.ic(39,"select",19),h.qc("ngModelChange",(function(e){return c.motivoConsulta=e}))("change",(function(){return c.clearMotivoEspecifico()})),h.ic(40,"option",9),h.Oc(41,"Seleccione"),h.hc(),h.Mc(42,z,2,2,"option",10),h.hc(),h.hc(),h.Mc(43,A,7,3,"div",20),h.Mc(44,R,4,0,"div",20),h.ic(45,"div",2),h.ic(46,"label",21),h.Oc(47," Linea Intervenci\xf3n "),h.hc(),h.ic(48,"select",22),h.qc("ngModelChange",(function(e){return c.lineaIntervencion=e})),h.ic(49,"option",9),h.Oc(50,"Seleccione"),h.hc(),h.Mc(51,Y,2,2,"option",10),h.hc(),h.hc(),h.Mc(52,Z,19,6,"ng-container",13),h.ic(53,"div",23),h.ic(54,"label",24),h.Oc(55," Narrativa "),h.hc(),h.dc(56,"textarea",25),h.hc(),h.hc(),h.hc(),h.ic(57,"h6",26),h.Oc(58,"Datos del usuario"),h.hc(),h.ic(59,"app-frm-paciente",27),h.qc("setFormGroupPaciente",(function(e){return c.onSetFormGroupPaciente(e)})),h.hc(),h.ic(60,"form",0),h.ic(61,"div",1),h.ic(62,"div",23),h.ic(63,"label",28),h.Oc(64," Observaciones de cierre "),h.hc(),h.dc(65,"textarea",29),h.hc(),h.hc(),h.hc()),2&e&&(h.yc("formGroup",c.formGroupCase),h.Pb(5),h.yc("max",c.maxDate),h.Pb(4),h.yc("min",c.minDateFinal)("max",c.maxDate),h.Pb(4),h.yc("compareWith",c.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",c.turnos),h.Pb(4),h.yc("compareWith",c.compare)("ngModel",c.quienComunica),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",c.quienes_comunican),h.Pb(1),h.yc("ngIf",c.se_comunica_otra_persona),h.Pb(4),h.yc("compareWith",c.compare),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",c.origenes),h.Pb(8),h.yc("compareWith",c.compare)("ngModel",c.motivoConsulta),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",c.motivo_consultas),h.Pb(1),h.yc("ngIf",c.has_motivos_especificos),h.Pb(1),h.yc("ngIf",!c.has_motivos_especificos),h.Pb(4),h.yc("compareWith",c.compare)("ngModel",c.lineaIntervencion),h.Pb(1),h.yc("ngValue",null),h.Pb(2),h.yc("ngForOf",c.linea_intervenciones),h.Pb(1),h.yc("ngIf",c.is_remision),h.Pb(7),h.yc("setPaciente",c.setPaciente)("dataPaciente",c.dataPaciente),h.Pb(1),h.yc("formGroup",c.formGroupCase))},directives:[o.y,o.o,o.h,o.c,o.n,o.g,o.v,o.r,o.x,t.l,t.m,E],styles:[""]}),e})(),H=(()=>{class e{constructor(e,c,i,t,o){this._casoService=e,this._pacienteService=c,this._toastrService=i,this._activateRoute=t,this._location=o,this.setPaciente=new u.a,this.setCaso=new u.a,this.dataCase={etnicidades:[],lineaIntervenciones:[],motivosConsultas:[],origenes:[],quienComunica:[],radicados:[],relaciones:[],remisiones:[],respuestas:[],tipoPacientes:[],turnos:[],motivosConsultaEspecificos:[]},this.dataPaciente={como_conocio:[],departamentos:[],estado_civiles:[],etnias:[],generos:[],niveles_educacion:[],ocupaciones:[],orientaciones_sexuales:[],sexos:[],tipos_identificacion:[],zonas:[],poblacion_intereses:[]}}ngOnInit(){this._casoService.getOptionsCase().subscribe(e=>{this.dataCase=e}),this._pacienteService.getDataPaciente().subscribe(e=>{this.dataPaciente=e}),this._activateRoute.params.subscribe(e=>{e.id&&this._casoService.getById(e.id).subscribe(e=>{this.setPaciente.next(e.paciente),this.setCaso.next(e)},e=>{console.error(e)})})}get hasErrorCase(){return!!this.formGroupCase&&this.formGroupCase.invalid}get hasErrorPerson(){return!!this.formGroupPaciente&&this.formGroupPaciente.invalid}get hasErrors(){return this.hasErrorCase||this.hasErrorPerson}get is_update(){return this.formGroupCase.get("id").value||!1}get btnName(){return this.is_update?"Actualizar":"Crear"}setFormGroupCase(e){this.formGroupCase=e}setFormGroupPaciente(e){this.formGroupPaciente=e}resetForms(){this.formGroupCase&&this.formGroupCase.reset(),this.formGroupPaciente&&(this.formGroupPaciente.reset(),this.setPaciente.next({identificacion:null}))}createCase(){this._casoService.createOrUpdateCase(this.formGroupCase.value,this.formGroupPaciente.value).subscribe(e=>{this._toastrService.show("Caso "+(this.is_update?"Actualizado":"Creado"),"\xc9xito",{destroyByClick:!0,preventDuplicates:!0,status:"success",icon:"checkmark",iconPack:"eva"}),e.paciente.identificacion&&(e.paciente.identificacion=""),this.setCaso.next(e.caso),this.setPaciente.next(e.paciente)},e=>{console.error(e)})}redirect(e){window.open(e,"popUpWindow","height=600,width=992,left=10,top=10,,scrollbars=yes,menubar=no")}cancelar(){this._location.back()}}return e.\u0275fac=function(c){return new(c||e)(h.cc(p),h.cc(d),h.cc(r.G),h.cc(l.a),h.cc(t.i))},e.\u0275cmp=h.Wb({type:e,selectors:[["app-actualizar-caso"]],decls:15,vars:6,consts:[[1,"text-center"],[3,"setPaciente","setCaso","dataPaciente","dataCase","setFormGroupCase","setFormGroupPaciente"],[1,"btn","btn-outline-success","mx-2",3,"click"],[1,"btn","btn-info","mx-2","float-right",3,"click"],["id","submit","type","submit",1,"btn","btn-primary","ml-2","float-right",3,"disabled","click"]],template:function(e,c){1&e&&(h.ic(0,"nb-card"),h.ic(1,"nb-card-header"),h.ic(2,"h5",0),h.Oc(3,"Datos del caso"),h.hc(),h.hc(),h.ic(4,"nb-card-body"),h.ic(5,"app-frm-caso",1),h.qc("setFormGroupCase",(function(e){return c.setFormGroupCase(e)}))("setFormGroupPaciente",(function(e){return c.setFormGroupPaciente(e)})),h.hc(),h.hc(),h.ic(6,"nb-card-footer"),h.ic(7,"button",2),h.qc("click",(function(){return c.redirect("https://www.adres.gov.co/BDUA/Consulta-Afiliados-BDUA")})),h.Oc(8," Comprobador de derechos "),h.hc(),h.ic(9,"button",2),h.qc("click",(function(){return c.redirect("https://www.sisben.gov.co/atencion-al-ciudadano/paginas/consulta-del-puntaje.aspx")})),h.Oc(10," Sisben "),h.hc(),h.ic(11,"button",3),h.qc("click",(function(){return c.cancelar()})),h.Oc(12," Cancelar "),h.hc(),h.ic(13,"button",4),h.qc("click",(function(){return c.createCase()})),h.Oc(14),h.hc(),h.hc(),h.hc()),2&e&&(h.Pb(5),h.yc("setPaciente",c.setPaciente)("setCaso",c.setCaso)("dataPaciente",c.dataPaciente)("dataCase",c.dataCase),h.Pb(8),h.yc("disabled",c.hasErrors&&!1),h.Pb(1),h.Qc(" ",c.btnName," "))},directives:[r.h,r.j,r.g,J,r.i],styles:[""]}),e})();const ee=[{path:"crear",component:(()=>{class e{constructor(e,c,i){this._casoService=e,this._pacienteService=c,this._toastrService=i,this.dataCase={etnicidades:[],lineaIntervenciones:[],motivosConsultas:[],origenes:[],quienComunica:[],radicados:[],relaciones:[],remisiones:[],respuestas:[],tipoPacientes:[],turnos:[],motivosConsultaEspecificos:[]},this.dataPaciente={como_conocio:[],departamentos:[],estado_civiles:[],etnias:[],generos:[],niveles_educacion:[],ocupaciones:[],orientaciones_sexuales:[],sexos:[],tipos_identificacion:[],zonas:[],poblacion_intereses:[]}}ngOnInit(){this._casoService.getOptionsCase().subscribe(e=>{this.dataCase=e}),this._pacienteService.getDataPaciente().subscribe(e=>{this.dataPaciente=e})}get hasErrorCase(){return!!this.formGroupCase&&this.formGroupCase.invalid}get hasErrorPerson(){return!!this.formGroupPaciente&&this.formGroupPaciente.invalid}get hasErrors(){return this.hasErrorCase||this.hasErrorPerson}get is_update(){return this.formGroupCase.get("id").value||!1}get btnName(){return this.is_update?"Actualizar":"Crear"}setFormGroupCase(e){this.formGroupCase=e}setFormGroupPaciente(e){this.formGroupPaciente=e}resetForms(){this.formGroupCase&&this.formGroupCase.reset(),this.formGroupPaciente&&(this.formGroupPaciente.reset(),this.formGroupPaciente.patchValue({identificacion:null}))}createCase(){this._casoService.createOrUpdateCase(this.formGroupCase.value,this.formGroupPaciente.value).subscribe(e=>{this._toastrService.show("Caso "+(this.is_update?"Actualizado":"Creado"),"\xc9xito",{destroyByClick:!0,preventDuplicates:!0,status:"success",icon:"checkmark",iconPack:"eva"}),e.paciente.identificacion||(e.paciente.identificacion=""),this.formGroupCase.patchValue(e.caso),this.formGroupPaciente.patchValue(e.paciente)},e=>{console.error(e)})}redirect(e){window.open(e,"popUpWindow","height=600,width=992,left=10,top=10,,scrollbars=yes,menubar=no")}}return e.\u0275fac=function(c){return new(c||e)(h.cc(p),h.cc(d),h.cc(r.G))},e.\u0275cmp=h.Wb({type:e,selectors:[["app-crear-caso"]],decls:15,vars:4,consts:[[1,"text-center"],[3,"dataPaciente","dataCase","setFormGroupCase","setFormGroupPaciente"],[1,"btn","btn-outline-success","mx-2",3,"click"],[1,"btn","btn-info","mx-2","float-right",3,"click"],["id","submit","type","submit",1,"btn","btn-primary","ml-2","float-right",3,"disabled","click"]],template:function(e,c){1&e&&(h.ic(0,"nb-card"),h.ic(1,"nb-card-header"),h.ic(2,"h5",0),h.Oc(3,"Datos del caso"),h.hc(),h.hc(),h.ic(4,"nb-card-body"),h.ic(5,"app-frm-caso",1),h.qc("setFormGroupCase",(function(e){return c.setFormGroupCase(e)}))("setFormGroupPaciente",(function(e){return c.setFormGroupPaciente(e)})),h.hc(),h.hc(),h.ic(6,"nb-card-footer"),h.ic(7,"button",2),h.qc("click",(function(){return c.redirect("https://www.adres.gov.co/BDUA/Consulta-Afiliados-BDUA")})),h.Oc(8," Comprobador de derechos "),h.hc(),h.ic(9,"button",2),h.qc("click",(function(){return c.redirect("https://www.sisben.gov.co/atencion-al-ciudadano/paginas/consulta-del-puntaje.aspx")})),h.Oc(10," Sisben "),h.hc(),h.ic(11,"button",3),h.qc("click",(function(){return c.resetForms()})),h.Oc(12," Cancelar "),h.hc(),h.ic(13,"button",4),h.qc("click",(function(){return c.createCase()})),h.Oc(14),h.hc(),h.hc(),h.hc()),2&e&&(h.Pb(5),h.yc("dataPaciente",c.dataPaciente)("dataCase",c.dataCase),h.Pb(8),h.yc("disabled",c.hasErrors&&!1),h.Pb(1),h.Qc(" ",c.btnName," "))},directives:[r.h,r.j,r.g,J,r.i],styles:[""]}),e})()},{path:":id",component:H}];let ce=(()=>{class e{}return e.\u0275mod=h.ac({type:e}),e.\u0275inj=h.Zb({factory:function(c){return new(c||e)},imports:[[l.g.forChild(ee)],l.g]}),e})(),ie=(()=>{class e{}return e.\u0275mod=h.ac({type:e}),e.\u0275inj=h.Zb({factory:function(c){return new(c||e)},imports:[[s.a,t.c,ce,o.t,r.x,r.f,r.r,r.c,r.I,r.k,r.t,r.m,r.d,n.a,a.c]]}),e})()}}]);